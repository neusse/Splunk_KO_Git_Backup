{
	"author": "nobody",
	"description": "Reports/Alerts Deep Analysis Dashboard",
	"disabled": "0",
	"eai:acl.app": "insights_app_splunk",
	"eai:acl.can_change_perms": "1",
	"eai:acl.can_list": "1",
	"eai:acl.can_share_app": "1",
	"eai:acl.can_share_global": "1",
	"eai:acl.can_share_user": "0",
	"eai:acl.can_write": "1",
	"eai:acl.modifiable": "1",
	"eai:acl.owner": "nobody",
	"eai:acl.perms.read": "*",
	"eai:acl.perms.write": "['admin', 'power', 'sc_admin']",
	"eai:acl.removable": "0",
	"eai:acl.sharing": "app",
	"eai:appName": "insights_app_splunk",
	"eai:digest": "7a6f69c048e34130b3e80ac3f0c494c1",
	"eai:type": "views",
	"eai:userName": "nobody",
	"isDashboard": "1",
	"isVisible": "1",
	"label": "SH - 02 - Reports/Alerts Deep Analysis - Dashboard - v1.1.6",
	"published": "",
	"rootNode": "form",
	"splunk_server": "TheNeusse",
	"target": "data/ui/views",
	"title": "sh_02_reports_alerts_deep_analysis_dashboard_v1",
	"updated": "1969-12-31T16:00:00-08:00",
	"eai:data": 
<form theme="dark" script="tabs.js, load.js, ms_remove_all.js" stylesheet="tabs.css, load.css" onunloadCancelJobs="False" version="1.1" hideEdit="true">
  <label>SH - 02 - Reports/Alerts Deep Analysis - Dashboard - v1.1.6</label>
  <description>Reports/Alerts Deep Analysis Dashboard</description>
  <search id="reports_base">
    <query>| from lookup:splunk_rest_saved_searches_sh_kv_store_lookup
| search NOT app IN ($app21$) | `cron_descriptor(cron_schedule)`
| `get_identity_info(author)` | `fillnull_identity_info`
| `strftime_format(updated)` | `strftime_format(scheduled_times)` | `strftime_format(next_scheduled_time)`
| `normalize_earliest_time(dispatch_earliest_time)` | `get_premium_app_job_class(savedsearch_name)` | `get_app_info(app)`
| fillnull value=0 summary_index correlationsearch_enabled dispatch_auto_cancel updated populate_lookup acl_removable
| fillnull value="no-actions" actions
| fillnull value="Undefined" Splunk_Roles Splunk_Instance app savedsearch_name description savedsearch_type sharing author owner disabled is_visible is_scheduled cron_schedule scheduled_times next_scheduled_time auto_summarize dispatch_earliest_time dispatch_latest_time schedule_priority max_concurrent schedule_window allow_skew realtime_schedule alert_severity alert_track alert_type removable run_n_times run_on_startup savedsearch_search email_to cron_schedule_described action_summary_index_name lookup_filename summary_index_name Index_Reference workload_pool orphan populate_lookup_dest
| eval Lookup_Reference = if(isnull(Lookup_Reference) AND isnotnull(lookup_filename), "output_lookup:" . lookup_filename, Lookup_Reference)
| eval Lookup_Reference = if(isnotnull(lookup_filename), mvdedup(mvappend(Lookup_Reference, "output_lookup:" . lookup_filename)), Lookup_Reference)
| fillnull value="no-reference" Index_Reference Lookup_Reference Datamodel_Reference Macro_Reference Sourcetype_Reference Source_Reference Eventtype_Reference Rest_Reference 
| $custom_filter$
| search shcluster_label IN ($shcluster_label2$) Splunk_Roles IN ($Splunk_Roles1$) Splunk_Roles="*$Splunk_Roles2$*" Splunk_Instance IN ($Splunk_Instance2$) app IN ($app2$) author=$author2$ sharing=$sharing2$ disabled="$is_disabled$" (is_scheduled="$is_scheduled$" OR auto_summarize=1) savedsearch_name="$savedsearch_name$" savedsearch_type="$savedsearch_type$" savedsearch_search="*$savedsearch_search$*" Lookup_Reference="*$Lookup_Reference2_contains$*" Lookup_Reference IN ($Lookup_Reference2$) Datamodel_Reference IN ($Datamodel_Reference2$) Macro_Reference IN ($Macro_Reference2$) Index_Reference IN ($Index_Reference2$) Sourcetype_Reference IN ($Sourcetype_Reference2$) Source_Reference IN ($Source_Reference2$) Eventtype_Reference IN ($Eventtype_Reference2$) Rest_Reference IN ($Rest_Reference2$) email_to="$email_to$" auto_summarize="$auto_summarize$" schedule_priority="$schedule_priority$" schedule_window="$schedule_window$" realtime_schedule="$realtime_schedule$" run_on_startup="$run_on_startup$" allow_skew="$allow_skew$" correlationsearch_enabled="$correlationsearch_enabled$" summary_index="$summary_index$" cron_schedule_described="$cron_schedule_described$" emp_name="$emp_name$" emp_type="$emp_type$" emp_status="$emp_status$" emp_dep="$emp_dep$" emp_lob1="$emp_lob1$" emp_cc="$emp_cc$" emp_title="$emp_title$" emp_city="$emp_city$" emp_region1="$emp_region1$" emp_country="$emp_country$" dispatch_earliest_time_normalized="$dispatch_earliest_time_normalized$" dispatch_earliest_time="$dispatch_earliest_time$" dispatch_latest_time="$dispatch_latest_time$" actions="$actions$" dispatch_auto_cancel="$dispatch_auto_cancel$" updated="$updated$" populate_lookup = $populate_lookup$ lookup_filename IN ($lookup_filename$) summary_index_name="$summary_index_name$" job_class IN ($job_class$) acl_removable=$acl_removable$ orphan=$orphan$ workload_pool=$workload_pool$ author = "*$author2_incl$*" app_type IN ($app_type$) populate_lookup_dest IN ($populate_lookup_dest$) 
</query>
    <earliest>-15m</earliest>
    <latest>now</latest>
  </search>
  <search id="execution_tracker_base">
    <query>$control_token_summary$ `setup_summary_index_list` source=splunk_internal_scheduler_jobs_idx_summary_tracker 
| fields _time, shcluster_label, Splunk_Roles, Splunk_Instance, savedsearch_name, app, user, scheduled_time, dispatch_time, priority, window_time, total_run_time, result_count, status, concurrency_category, concurrency_context, concurrency_limit, reason, alert_actions, workload_pool, emp_*
`gmc_comment("| `get_instance_roles(Splunk_Instance)`")`
| `get_shcluster_label(Splunk_Instance)` 
| `get_saved_searches_info(shcluster_label,app,savedsearch_name)`
| search shcluster_label IN ($shcluster_label2$) Splunk_Instance IN ($Splunk_Instance2$) Splunk_Roles IN ($Splunk_Roles3$) Splunk_Roles="*$Splunk_Roles4$*" app IN ($app2$) savedsearch_name="$savedsearch_name$"</query>
    <earliest>$TimeRangePkr2.earliest$</earliest>
    <latest>$TimeRangePkr2.latest$</latest>
  </search>
  <search id="inspect_tracker_base">
    <query>$control_token_summary$ `setup_summary_index_list` source="splunk_rest_search_jobs_sh_summary_tracker"
`gmc_comment("| `get_instance_roles(Splunk_Instance)`")`
| fields _time, shcluster_label, Splunk_Roles, Splunk_Instance, search_id_normalized, status, search_et, search_lt, pid, app, savedsearch_name, ttl, user, priority, provenance, delegate, diskUsage, doneProgress, available_count, event_count, isEventsPreviewEnabled, isPreviewEnabled, isRemoteTimeline, meanPreviewPeriod, numPreviews, result_count, resultIsStreaming, resultPreviewCount, total_run_time, sampleRatio, sampleSeed, scan_count, searchCanBeEventType, runtime_auto_cancel, runtime_auto_pause, error_messages, info_messages, warn_messages, base_search, TotalBucketsCount, TotalEliminatedBucketsCount, isBatchModeSearch, isGoodSummarizationCandidate, isRealTimeSearch, keywords, search, sid, workload_action_information, workload_pool, custom_workload_pool, request_custom_workload_pool, request_workload_pool, emp_*
| eval total_run_time_Sec=total_run_time
| `gmc_byte2human(diskUsage,2)` 
| fillnull value=0 total_run_time_Sec diskUsage
| fillnull value="Undefined" app savedsearch_name status ttl error_messages provenance
| search shcluster_label IN ($shcluster_label2$) Splunk_Instance IN ($Splunk_Instance2$) app IN ($app3$) savedsearch_name="$savedsearch_name$" status="$status_tok8$" ttl="$ttl_tok8$" total_run_time_Sec &gt;= $total_run_time_tok8$ diskUsage &gt;= $diskUsage_MB_tok8$ error_messages="$error_messages$" provenance="$provenance$" Splunk_Roles IN ($Splunk_Roles5$) Splunk_Roles="*$Splunk_Roles6$*" user = "$owner_tok81$" user IN ($owner_tok8$)
</query>
    <earliest>$TimeRangePkr3.earliest$</earliest>
    <latest>$TimeRangePkr3.latest$</latest>
  </search>
  <search id="reports_balance_base">
    <query>$control_token_balance$ | from lookup:splunk_rest_saved_searches_sh_kv_store_lookup
    | search is_scheduled=1 disabled=0 author IN ( $tok_user$ ) app IN ( $tok_app$ ) shcluster_label="$shcluster_label$" NOT (earliest_time=rt* OR latest_time=rt* OR summary_index=1 OR savedsearch_search=*timechart* OR savedsearch_search=*bin* OR savedsearch_search=*span* OR savedsearch_search=*bucket* ) 
</query>
    <earliest>$TimeRangePkr3.earliest$</earliest>
    <latest>$TimeRangePkr3.latest$</latest>
  </search>
  <fieldset submitButton="true" autoRun="false"></fieldset>
  <row id="tabs">
    <panel>
      <html>
            <ul id="tabs" class="nav nav-tabs">
              <i class="icn-home float-l icon-color-white icon-modal-medium m-top m-right m-left"/>
               <li class="active">
                  <a href="#" class="toggle-tab" data-toggle="tab" data-elements="Reports_Alerts_Inputs1,Reports_Alerts_Inputs2,Reports_Alerts_Inputs3,Reports_Alerts_Inputs4,Reports_Alerts_Panel1,Reports_Alerts_Panel2,Reports_Alerts_Panel3,Reports_Alerts_Panel4,Reports_Alerts_Panel5,Reports_Alerts_Panel6,Reports_Alerts_Panel7,Reports_Alerts_Panel8,Reports_Alerts_Panel9">1. Reports/Alerts Metadata info from KV Store</a>
               </li>
               <li>
                  <a href="#" class="toggle-tab" data-toggle="tab" data-elements="Reports_Alerts_Inputs21,Reports_Alerts_Inputs22,Reports_Alerts_Inputs23,Reports_Alerts_Inputs24,Reports_Alerts_Panel21,Reports_Alerts_Panel22,Reports_Alerts_Panel23,Reports_Alerts_Panel24,Reports_Alerts_Panel25,Reports_Alerts_Panel26,Reports_Alerts_Panel27,Reports_Alerts_Panel28,Reports_Alerts_Panel29" data-token="control_token_summary">2. Reports/Alerts Execution from Summary Index</a>
               </li>
               <li>
                  <a href="#" class="toggle-tab" data-toggle="tab" data-elements="Auto1,Auto2,Auto3,Auto4,Auto5,Auto6,Auto7,Auto8" data-token="control_token_auto">3. Automation</a>
               </li>
               <li>
                  <a href="#" class="toggle-tab" data-toggle="tab" data-elements="Balance1,Balance2,Balance3,Balance4,Balance5" data-token="control_token_balance">4. Scheduled Search Balance</a>
               </li>
            </ul>
         </html>
    </panel>
  </row>
  <row id="Reports_Alerts_Inputs1">
    <panel id="panel_accordion_togglepanel_false_1" depends="$gadget_lib_loaded$">
      <title>1. Reports/Alerts - Basic Filters</title>
      <input type="multiselect" token="shcluster_label2" searchWhenChanged="false" id="ra_shcluster_label3">
        <label>1. Splunk SH (Cluster/Instance)</label>
        <fieldForLabel>shcluster_label2</fieldForLabel>
        <fieldForValue>shcluster_label</fieldForValue>
        <search base="reports_base">
          <query>| stats count by shcluster_label</query>
        </search>
        <choice value="*">All</choice>
        <default>*</default>
        <initialValue>*</initialValue>
        <delimiter>,</delimiter>
      </input>
      <input type="multiselect" token="Splunk_Roles1" searchWhenChanged="false" id="ra_Splunk_Roles1">
        <label>2.1 Splunk Roles</label>
        <choice value="*">All</choice>
        <initialValue>*</initialValue>
        <fieldForLabel>Splunk_Roles1</fieldForLabel>
        <fieldForValue>Splunk_Roles</fieldForValue>
        <search base="reports_base">
          <query>| stats count by Splunk_Roles</query>
        </search>
        <default>*</default>
        <delimiter>,</delimiter>
      </input>
      <input type="text" token="Splunk_Roles2" searchWhenChanged="true">
        <label>2.2 Splunk Roles (Contains)</label>
        <default>*</default>
        <initialValue>*</initialValue>
      </input>
      <input type="multiselect" token="Splunk_Instance2" searchWhenChanged="false" id="ra_Splunk_Instance">
        <label>3. Splunk Instance</label>
        <fieldForLabel>Splunk_Instance2</fieldForLabel>
        <fieldForValue>Splunk_Instance</fieldForValue>
        <search base="reports_base">
          <query>| stats count by Splunk_Instance</query>
        </search>
        <choice value="*">All</choice>
        <default>*</default>
        <initialValue>*</initialValue>
        <delimiter>,</delimiter>
      </input>
      <input type="multiselect" token="app2" searchWhenChanged="false" id="ra_app4">
        <label>4.1 App Name</label>
        <choice value="*">All-Apps</choice>
        <fieldForLabel>app2</fieldForLabel>
        <fieldForValue>app</fieldForValue>
        <search base="reports_base">
          <query>| stats count by app</query>
        </search>
        <default>*</default>
        <delimiter>,</delimiter>
      </input>
      <input type="dropdown" token="sharing2" searchWhenChanged="false">
        <label>4.2 App Sharing</label>
        <choice value="*">All</choice>
        <choice value="app">App</choice>
        <choice value="user">User</choice>
        <choice value="global">Global</choice>
        <default>*</default>
        <initialValue>*</initialValue>
        <fieldForLabel>sharing2</fieldForLabel>
        <fieldForValue>sharing2</fieldForValue>
      </input>
      <input type="multiselect" token="app_type" searchWhenChanged="false" id="ra_app_type">
        <label>5. App Type (Premium Apps)</label>
        <choice value="*">All-App-Types</choice>
        <fieldForLabel>app_type</fieldForLabel>
        <fieldForValue>app_type</fieldForValue>
        <search base="reports_base">
          <query>| stats count by app_type</query>
        </search>
        <default>*</default>
        <valuePrefix>"</valuePrefix>
        <valueSuffix>"</valueSuffix>
        <delimiter>,</delimiter>
      </input>
      <input type="multiselect" token="job_class" searchWhenChanged="false" id="ra_job_class">
        <label>6. Job Class</label>
        <choice value="*">All-Job-Classes</choice>
        <initialValue>*</initialValue>
        <fieldForLabel>job_class</fieldForLabel>
        <fieldForValue>job_class</fieldForValue>
        <search base="reports_base">
          <query>| stats count by job_class</query>
        </search>
        <default>*</default>
        <valuePrefix>"</valuePrefix>
        <valueSuffix>"</valueSuffix>
        <delimiter> ,</delimiter>
      </input>
      <input type="dropdown" token="savedsearch_type" searchWhenChanged="false">
        <label>7. Job Type</label>
        <choice value="*">All</choice>
        <choice value="report">Report</choice>
        <choice value="alert">Alert</choice>
        <initialValue>*</initialValue>
        <fieldForLabel>savedsearch_type</fieldForLabel>
        <fieldForValue>savedsearch_type</fieldForValue>
        <default>*</default>
      </input>
      <input type="dropdown" token="savedsearch_name" searchWhenChanged="false">
        <label>8. Report/Alert Name</label>
        <choice value="*">All</choice>
        <initialValue>*</initialValue>
        <fieldForLabel>savedsearch_name</fieldForLabel>
        <fieldForValue>savedsearch_name</fieldForValue>
        <search base="reports_base">
          <query>| stats count by savedsearch_name</query>
        </search>
        <default>*</default>
      </input>
      <input type="dropdown" token="is_scheduled" searchWhenChanged="false">
        <label>9. IS Scheduled?</label>
        <choice value="*">All</choice>
        <choice value="1">Yes</choice>
        <choice value="0">No</choice>
        <initialValue>1</initialValue>
        <fieldForLabel>is_scheduled</fieldForLabel>
        <fieldForValue>is_scheduled</fieldForValue>
        <default>1</default>
      </input>
      <input type="dropdown" token="is_disabled" searchWhenChanged="false">
        <label>10. IS Disabled?</label>
        <choice value="*">All</choice>
        <choice value="1">Yes</choice>
        <choice value="0">No</choice>
        <initialValue>0</initialValue>
        <fieldForLabel>is_disabled</fieldForLabel>
        <fieldForValue>is_disabled</fieldForValue>
        <default>0</default>
      </input>
      <input type="radio" token="advanced_inputs" searchWhenChanged="true">
        <label>11. Show Advanced Filters</label>
        <choice value="0">No</choice>
        <choice value="1">Yes</choice>
        <default>0</default>
        <change>
          <condition value="1">
            <set token="show_advanced_inputs">1</set>
          </condition>
          <condition>
            <unset token="show_advanced_inputs"></unset>
          </condition>
        </change>
      </input>
      <input type="radio" token="identity_inputs" searchWhenChanged="true">
        <label>12. Show Identity Filters</label>
        <choice value="0">No</choice>
        <choice value="1">Yes</choice>
        <default>0</default>
        <change>
          <condition value="1">
            <set token="show_identity_inputs">1</set>
          </condition>
          <condition>
            <unset token="show_identity_inputs"></unset>
          </condition>
        </change>
      </input>
      <input type="radio" token="reference_inputs" searchWhenChanged="true">
        <label>13. Show Reference Filters</label>
        <choice value="0">No</choice>
        <choice value="1">Yes</choice>
        <default>0</default>
        <change>
          <condition value="1">
            <set token="show_reference_inputs">1</set>
          </condition>
          <condition>
            <unset token="show_reference_inputs"></unset>
          </condition>
        </change>
      </input>
      <html>
        <style>
          .dashboard-row .dashboard-panel,.panel-head h3{
            background-color:#000000 !important;
            color:#ffffff !important;
          }
        </style>
      </html>
    </panel>
  </row>
  <row id="Reports_Alerts_Inputs2">
    <panel id="panel_accordion_togglepanel_false_2" depends="$show_identity_inputs$">
      <title>2. Reports/Alerts - Identity Filters</title>
      <input type="dropdown" token="author2" searchWhenChanged="false">
        <label>1.1 Owner (Employee)</label>
        <choice value="*">All</choice>
        <initialValue>*</initialValue>
        <fieldForLabel>author2</fieldForLabel>
        <fieldForValue>author</fieldForValue>
        <search base="reports_base">
          <query>| stats count by author</query>
        </search>
        <default>*</default>
      </input>
      <input type="text" token="author2_incl" searchWhenChanged="true">
        <label>1.2 Owner (Employee)</label>
        <initialValue>*</initialValue>
        <default>*</default>
      </input>
      <input type="dropdown" token="emp_name" searchWhenChanged="false">
        <label>2. Employee Full Name</label>
        <fieldForLabel>emp_name</fieldForLabel>
        <fieldForValue>emp_name</fieldForValue>
        <search base="reports_base">
          <query>| stats count by emp_name</query>
        </search>
        <choice value="*">All</choice>
        <default>*</default>
        <initialValue>*</initialValue>
      </input>
      <input type="dropdown" token="emp_title" searchWhenChanged="false">
        <label>3. Employee Title</label>
        <fieldForLabel>emp_title</fieldForLabel>
        <fieldForValue>emp_title</fieldForValue>
        <search base="reports_base">
          <query>| stats count by emp_title</query>
        </search>
        <choice value="*">All</choice>
        <default>*</default>
        <initialValue>*</initialValue>
      </input>
      <input type="dropdown" token="emp_type" searchWhenChanged="false">
        <label>4. Employee Type</label>
        <fieldForLabel>emp_type</fieldForLabel>
        <fieldForValue>emp_type</fieldForValue>
        <search base="reports_base">
          <query>| stats count by emp_type</query>
        </search>
        <choice value="*">All</choice>
        <default>*</default>
        <initialValue>*</initialValue>
      </input>
      <input type="dropdown" token="emp_status" searchWhenChanged="false">
        <label>5. Employee Status</label>
        <fieldForLabel>emp_status</fieldForLabel>
        <fieldForValue>emp_status</fieldForValue>
        <search base="reports_base">
          <query>| stats count by emp_status</query>
        </search>
        <choice value="*">All</choice>
        <default>*</default>
        <initialValue>*</initialValue>
      </input>
      <input type="dropdown" token="emp_lob1" searchWhenChanged="false">
        <label>6. Employee LOB</label>
        <fieldForLabel>emp_lob1</fieldForLabel>
        <fieldForValue>emp_lob1</fieldForValue>
        <search base="reports_base">
          <query>| stats count by emp_lob1</query>
        </search>
        <choice value="*">All</choice>
        <default>*</default>
        <initialValue>*</initialValue>
      </input>
      <input type="dropdown" token="emp_dep" searchWhenChanged="false">
        <label>7. Employee Department</label>
        <fieldForLabel>emp_dep</fieldForLabel>
        <fieldForValue>emp_dep</fieldForValue>
        <search base="reports_base">
          <query>| stats count by emp_dep</query>
        </search>
        <choice value="*">All</choice>
        <default>*</default>
        <initialValue>*</initialValue>
      </input>
      <input type="dropdown" token="emp_cc" searchWhenChanged="false">
        <label>8. Employee Cost Center</label>
        <fieldForLabel>emp_cc</fieldForLabel>
        <fieldForValue>emp_cc</fieldForValue>
        <search base="reports_base">
          <query>| stats count by emp_cc</query>
        </search>
        <choice value="*">All</choice>
        <default>*</default>
        <initialValue>*</initialValue>
      </input>
      <input type="dropdown" token="emp_city" searchWhenChanged="false">
        <label>9. Employee City</label>
        <fieldForLabel>emp_city</fieldForLabel>
        <fieldForValue>emp_city</fieldForValue>
        <search base="reports_base">
          <query>| stats count by emp_city</query>
        </search>
        <choice value="*">All</choice>
        <default>*</default>
        <initialValue>*</initialValue>
      </input>
      <input type="dropdown" token="emp_region1" searchWhenChanged="false">
        <label>10. Employee Region/State</label>
        <fieldForLabel>emp_region1</fieldForLabel>
        <fieldForValue>emp_region1</fieldForValue>
        <search base="reports_base">
          <query>| stats count by emp_region1</query>
        </search>
        <choice value="*">All</choice>
        <default>*</default>
        <initialValue>*</initialValue>
      </input>
      <input type="dropdown" token="emp_country" searchWhenChanged="false">
        <label>11. Employee Country</label>
        <fieldForLabel>emp_country</fieldForLabel>
        <fieldForValue>emp_country</fieldForValue>
        <search base="reports_base">
          <query>| stats count by emp_country</query>
        </search>
        <choice value="*">All</choice>
        <default>*</default>
        <initialValue>*</initialValue>
      </input>
    </panel>
  </row>
  <row id="Reports_Alerts_Inputs3">
    <panel id="panel_accordion_togglepanel_false_3" depends="$show_advanced_inputs$">
      <title>3. Reports/Alerts - Advanced Filters</title>
      <input type="text" token="app21" searchWhenChanged="true">
        <label>1. App Exclusion</label>
        <default>splunk_instrumentation, splunk_monitoring_console, splunk_archiver, simple_xml_examples, *insights_app_splunk</default>
        <initialValue>splunk_instrumentation, splunk_monitoring_console, splunk_archiver, simple_xml_examples, *insights_app_splunk</initialValue>
      </input>
      <input type="text" token="savedsearch_name" searchWhenChanged="true">
        <label>2. Report/Alert Name (Contains)</label>
        <default>*</default>
        <initialValue>*</initialValue>
      </input>
      <input type="dropdown" token="cron_schedule_described" searchWhenChanged="false">
        <label>3. Job Schedule Human</label>
        <choice value="*">All</choice>
        <initialValue>*</initialValue>
        <fieldForLabel>cron_schedule_described</fieldForLabel>
        <fieldForValue>cron_schedule_described</fieldForValue>
        <search base="reports_base">
          <query>| stats count by cron_schedule_described</query>
        </search>
        <default>*</default>
      </input>
      <input type="dropdown" token="cron_schedule" searchWhenChanged="false">
        <label>4. Job Schedule (No Search)</label>
        <choice value="*">All</choice>
        <initialValue>*</initialValue>
        <fieldForLabel>cron_schedule</fieldForLabel>
        <fieldForValue>cron_schedule</fieldForValue>
        <search base="reports_base">
          <query>| stats count by cron_schedule</query>
        </search>
        <default>*</default>
      </input>
      <input type="dropdown" token="run_on_startup" searchWhenChanged="false">
        <label>5. Run On Startup</label>
        <choice value="*">All</choice>
        <choice value="1">Yes</choice>
        <choice value="0">No</choice>
        <initialValue>*</initialValue>
        <fieldForLabel>run_on_startup</fieldForLabel>
        <fieldForValue>run_on_startup</fieldForValue>
        <default>*</default>
      </input>
      <input type="dropdown" token="auto_summarize" searchWhenChanged="false">
        <label>6. Report Acceleration Enabled?</label>
        <choice value="*">All</choice>
        <choice value="1">Yes</choice>
        <choice value="0">No</choice>
        <initialValue>*</initialValue>
        <fieldForLabel>auto_summarize</fieldForLabel>
        <fieldForValue>auto_summarize</fieldForValue>
        <default>*</default>
      </input>
      <input type="dropdown" token="schedule_priority" searchWhenChanged="false">
        <label>7. Schedule Priority</label>
        <choice value="*">All</choice>
        <choice value="default">Default</choice>
        <choice value="high">High</choice>
        <choice value="highest">Highest</choice>
        <initialValue>*</initialValue>
        <fieldForLabel>schedule_priority</fieldForLabel>
        <fieldForValue>schedule_priority</fieldForValue>
        <default>*</default>
      </input>
      <input type="dropdown" token="schedule_window" searchWhenChanged="false">
        <label>8. Schedule Window</label>
        <choice value="*">All</choice>
        <initialValue>*</initialValue>
        <fieldForLabel>schedule_window</fieldForLabel>
        <fieldForValue>schedule_window</fieldForValue>
        <search base="reports_base">
          <query>| stats count by schedule_window</query>
        </search>
        <default>*</default>
      </input>
      <input type="dropdown" token="allow_skew" searchWhenChanged="false">
        <label>9. Allow Skew</label>
        <choice value="*">All</choice>
        <initialValue>*</initialValue>
        <fieldForLabel>allow_skew</fieldForLabel>
        <fieldForValue>allow_skew</fieldForValue>
        <search base="reports_base">
          <query>| stats count by allow_skew</query>
        </search>
        <default>*</default>
      </input>
      <input type="dropdown" token="realtime_schedule" searchWhenChanged="false">
        <label>10. Scheduling Method</label>
        <choice value="*">All</choice>
        <choice value="1">Real-time Sched (Default)</choice>
        <choice value="0">Continuous Sched (Resource Intensive)</choice>
        <initialValue>*</initialValue>
        <fieldForLabel>realtime_schedule</fieldForLabel>
        <fieldForValue>realtime_schedule</fieldForValue>
        <default>*</default>
      </input>
      <input type="dropdown" token="actions" searchWhenChanged="false">
        <label>11. Job Actions</label>
        <choice value="*">All</choice>
        <initialValue>*</initialValue>
        <fieldForLabel>actions</fieldForLabel>
        <fieldForValue>actions</fieldForValue>
        <search base="reports_base">
          <query>| stats count by actions</query>
        </search>
        <default>*</default>
      </input>
      <input type="dropdown" token="dispatch_earliest_time" searchWhenChanged="false">
        <label>12.1 Dispatch Earliest Time</label>
        <choice value="*">All</choice>
        <initialValue>*</initialValue>
        <fieldForLabel>dispatch_earliest_time</fieldForLabel>
        <fieldForValue>dispatch_earliest_time</fieldForValue>
        <search base="reports_base">
          <query>| stats count by dispatch_earliest_time</query>
        </search>
        <default>*</default>
      </input>
      <input type="dropdown" token="dispatch_earliest_time_normalized" searchWhenChanged="false">
        <label>12.2 Dispatch Earliest Time Normalized</label>
        <choice value="*">All</choice>
        <initialValue>*</initialValue>
        <fieldForLabel>dispatch_earliest_time_normalized</fieldForLabel>
        <fieldForValue>dispatch_earliest_time_normalized</fieldForValue>
        <search base="reports_base">
          <query>| stats count by dispatch_earliest_time_normalized</query>
        </search>
        <default>*</default>
      </input>
      <input type="dropdown" token="dispatch_latest_time" searchWhenChanged="false">
        <label>12.3 Dispatch Latest Time</label>
        <choice value="*">All</choice>
        <initialValue>*</initialValue>
        <fieldForLabel>dispatch_latest_time</fieldForLabel>
        <fieldForValue>dispatch_latest_time</fieldForValue>
        <search base="reports_base">
          <query>| stats count by dispatch_latest_time</query>
        </search>
        <default>*</default>
      </input>
      <input type="dropdown" token="correlationsearch_enabled" searchWhenChanged="false">
        <label>13. ES Correlation Search?</label>
        <choice value="*">All</choice>
        <choice value="1">Yes</choice>
        <choice value="0">No</choice>
        <initialValue>*</initialValue>
        <fieldForLabel>correlationsearch_enabled</fieldForLabel>
        <fieldForValue>correlationsearch_enabled</fieldForValue>
        <default>*</default>
      </input>
      <input type="dropdown" token="email_to" searchWhenChanged="false">
        <label>14. Send Email To</label>
        <choice value="*">All</choice>
        <initialValue>*</initialValue>
        <fieldForLabel>email_to</fieldForLabel>
        <fieldForValue>email_to</fieldForValue>
        <search base="reports_base">
          <query>| stats count by email_to</query>
        </search>
        <default>*</default>
      </input>
      <input type="dropdown" token="updated" searchWhenChanged="false">
        <label>15. Updated</label>
        <choice value="*">All</choice>
        <initialValue>*</initialValue>
        <fieldForLabel>updated</fieldForLabel>
        <fieldForValue>updated</fieldForValue>
        <search base="reports_base">
          <query>| stats count by updated</query>
        </search>
        <default>*</default>
      </input>
      <input type="dropdown" token="dispatch_auto_cancel" searchWhenChanged="false">
        <label>16. Dispatch Auto Cancel</label>
        <choice value="*">All</choice>
        <initialValue>*</initialValue>
        <fieldForLabel>dispatch_auto_cancel</fieldForLabel>
        <fieldForValue>dispatch_auto_cancel</fieldForValue>
        <search base="reports_base">
          <query>| stats count by dispatch_auto_cancel</query>
        </search>
        <default>*</default>
      </input>
      <input type="dropdown" token="summary_index" searchWhenChanged="false">
        <label>17.1 Summary Indexing?</label>
        <choice value="*">All</choice>
        <choice value="1">Yes</choice>
        <choice value="0">No</choice>
        <initialValue>*</initialValue>
        <fieldForLabel>summary_index</fieldForLabel>
        <fieldForValue>summary_index</fieldForValue>
        <default>*</default>
      </input>
      <input type="dropdown" token="summary_index_name" searchWhenChanged="false">
        <label>17.2 Summary Index Name</label>
        <choice value="*">All</choice>
        <initialValue>*</initialValue>
        <fieldForLabel>summary_index_name</fieldForLabel>
        <fieldForValue>summary_index_name</fieldForValue>
        <search base="reports_base">
          <query>| stats count by summary_index_name</query>
        </search>
        <default>*</default>
      </input>
      <input type="text" token="savedsearch_search" searchWhenChanged="true">
        <label>18. Search By Report/Alert Searches (Contains)</label>
        <default>*</default>
        <initialValue>*</initialValue>
      </input>
      <input type="dropdown" token="acl_removable" searchWhenChanged="false">
        <label>19. Removable?</label>
        <choice value="*">All</choice>
        <choice value="1">Yes</choice>
        <choice value="0">No</choice>
        <initialValue>*</initialValue>
        <fieldForLabel>acl_removable</fieldForLabel>
        <fieldForValue>acl_removable</fieldForValue>
        <default>*</default>
      </input>
      <input type="dropdown" token="orphan" searchWhenChanged="false">
        <label>20. Orphaned?</label>
        <choice value="*">All</choice>
        <choice value="1">Yes</choice>
        <choice value="0">No</choice>
        <initialValue>*</initialValue>
        <fieldForLabel>orphan</fieldForLabel>
        <fieldForValue>orphan</fieldForValue>
        <default>*</default>
      </input>
      <input type="dropdown" token="workload_pool" searchWhenChanged="false">
        <label>21. Workload Pool</label>
        <choice value="*">All</choice>
        <initialValue>*</initialValue>
        <fieldForLabel>workload_pool</fieldForLabel>
        <fieldForValue>workload_pool</fieldForValue>
        <search base="reports_base">
          <query>| stats count by workload_pool</query>
        </search>
        <default>*</default>
      </input>
    </panel>
  </row>
  <row id="Reports_Alerts_Inputs4">
    <panel id="panel_accordion_togglepanel_false_4" depends="$show_reference_inputs$">
      <title>4. Reports/Alerts - Reference Filters</title>
      <input type="multiselect" token="Lookup_Reference2" searchWhenChanged="false" id="ra_Lookup_Reference2">
        <label>1.1 Lookup Reference</label>
        <choice value="*">All</choice>
        <initialValue>*</initialValue>
        <fieldForLabel>Lookup_Reference2</fieldForLabel>
        <fieldForValue>Lookup_Reference</fieldForValue>
        <search base="reports_base">
          <query>| stats count by Lookup_Reference</query>
        </search>
        <default>*</default>
        <valuePrefix>"</valuePrefix>
        <valueSuffix>"</valueSuffix>
        <delimiter>,</delimiter>
      </input>
      <input type="text" token="Lookup_Reference2_contains" searchWhenChanged="true">
        <label>1.2. Lookup Reference (Contains)</label>
        <default>*</default>
        <initialValue>*</initialValue>
      </input>
      <input type="dropdown" token="populate_lookup" searchWhenChanged="false">
        <label>1.3 Job Action Populate Lookup</label>
        <choice value="*">Any</choice>
        <choice value="1">Yes</choice>
        <choice value="0">No</choice>
        <initialValue>*</initialValue>
        <fieldForLabel>populate_lookup</fieldForLabel>
        <fieldForValue>populate_lookup</fieldForValue>
        <default>*</default>
      </input>
      <input type="multiselect" token="lookup_filename" searchWhenChanged="false" id="ra_">
        <label>1.4 Job Action File Name</label>
        <choice value="*">All</choice>
        <initialValue>*</initialValue>
        <fieldForLabel>lookup_filename</fieldForLabel>
        <fieldForValue>lookup_filename</fieldForValue>
        <search base="reports_base">
          <query>| stats count by lookup_filename
| where lookup_filename!="Undefined"</query>
        </search>
        <default>*</default>
        <valuePrefix>"</valuePrefix>
        <valueSuffix>"</valueSuffix>
        <delimiter>,</delimiter>
      </input>
      <input type="multiselect" token="populate_lookup_dest" searchWhenChanged="false" id="ra_lookup_filename">
        <label>1.5 Populate Lookup Destination (Filename)</label>
        <choice value="*">All</choice>
        <initialValue>*</initialValue>
        <fieldForLabel>populate_lookup_dest</fieldForLabel>
        <fieldForValue>populate_lookup_dest</fieldForValue>
        <search base="reports_base">
          <query>| stats count by populate_lookup_dest
| where populate_lookup_dest!="Undefined"</query>
        </search>
        <default>*</default>
        <valuePrefix>"</valuePrefix>
        <valueSuffix>"</valueSuffix>
        <delimiter>,</delimiter>
      </input>
      <input type="multiselect" token="Datamodel_Reference2" searchWhenChanged="false" id="ra_Datamodel_Reference2">
        <label>2. Datamodel Reference</label>
        <choice value="*">All</choice>
        <initialValue>*</initialValue>
        <fieldForLabel>Datamodel_Reference2</fieldForLabel>
        <fieldForValue>Datamodel_Reference</fieldForValue>
        <search base="reports_base">
          <query>| stats count by Datamodel_Reference</query>
        </search>
        <default>*</default>
        <valuePrefix>"</valuePrefix>
        <valueSuffix>"</valueSuffix>
        <delimiter>,</delimiter>
      </input>
      <input type="multiselect" token="Macro_Reference2" searchWhenChanged="false" id="ra_Macro_Reference2">
        <label>3. Macro Reference</label>
        <choice value="*">All</choice>
        <default>*</default>
        <initialValue>*</initialValue>
        <fieldForLabel>Macro_Reference2</fieldForLabel>
        <fieldForValue>Macro_Reference</fieldForValue>
        <search base="reports_base">
          <query>| stats count by Macro_Reference
| eval len=len(Macro_Reference)
| where len&lt;100 AND len&gt;1</query>
        </search>
        <valuePrefix>"</valuePrefix>
        <valueSuffix>"</valueSuffix>
        <delimiter>,</delimiter>
      </input>
      <input type="multiselect" token="Eventtype_Reference2" searchWhenChanged="false" id="ra_Eventtype_Reference2">
        <label>4. Eventtype Reference</label>
        <choice value="*">All</choice>
        <default>*</default>
        <initialValue>*</initialValue>
        <fieldForLabel>Eventtype_Reference2</fieldForLabel>
        <fieldForValue>Eventtype_Reference</fieldForValue>
        <search base="reports_base">
          <query>| stats count by Eventtype_Reference</query>
        </search>
        <valuePrefix>"</valuePrefix>
        <valueSuffix>"</valueSuffix>
        <delimiter>,</delimiter>
      </input>
      <input type="multiselect" token="Index_Reference2" searchWhenChanged="false" id="ra_Index_Reference2">
        <label>5. Index Reference</label>
        <choice value="*">All</choice>
        <default>*</default>
        <initialValue>*</initialValue>
        <fieldForLabel>Index_Reference2</fieldForLabel>
        <fieldForValue>Index_Reference</fieldForValue>
        <search base="reports_base">
          <query>| stats count by Index_Reference</query>
        </search>
        <valuePrefix>"</valuePrefix>
        <valueSuffix>"</valueSuffix>
        <delimiter>,</delimiter>
      </input>
      <input type="multiselect" token="Sourcetype_Reference2" searchWhenChanged="false" id="ra_Sourcetype_Reference2">
        <label>6. Sourcetype Reference</label>
        <choice value="*">All</choice>
        <default>*</default>
        <initialValue>*</initialValue>
        <fieldForLabel>Sourcetype_Reference2</fieldForLabel>
        <fieldForValue>Sourcetype_Reference</fieldForValue>
        <search base="reports_base">
          <query>| stats count by Sourcetype_Reference</query>
        </search>
        <valuePrefix>"</valuePrefix>
        <valueSuffix>"</valueSuffix>
        <delimiter>,</delimiter>
      </input>
      <input type="multiselect" token="Source_Reference2" searchWhenChanged="false" id="ra_Source_Reference2">
        <label>7. Source Reference</label>
        <choice value="*">All</choice>
        <default>*</default>
        <initialValue>*</initialValue>
        <fieldForLabel>Source_Reference2</fieldForLabel>
        <fieldForValue>Source_Reference</fieldForValue>
        <search base="reports_base">
          <query>| stats count by Source_Reference</query>
        </search>
        <valuePrefix>"</valuePrefix>
        <valueSuffix>"</valueSuffix>
        <delimiter>,</delimiter>
      </input>
      <input type="multiselect" token="Rest_Reference2" searchWhenChanged="false" id="ra_Rest_Reference2">
        <label>8. Rest Reference</label>
        <choice value="*">All</choice>
        <default>*</default>
        <initialValue>*</initialValue>
        <fieldForLabel>Rest_Reference2</fieldForLabel>
        <fieldForValue>Rest_Reference</fieldForValue>
        <search base="reports_base">
          <query>| stats count by Rest_Reference</query>
        </search>
        <valuePrefix>"</valuePrefix>
        <valueSuffix>"</valueSuffix>
        <delimiter>,</delimiter>
      </input>
    </panel>
  </row>
  <row id="Reports_Alerts_Panel1">
    <panel id="panel_accordion_togglepanel_false_5" depends="$gadget_lib_loaded$">
      <title>5.1 Reports/Alerts List</title>
      <html>
        <h1>Click on any Job Name to open all Drill Down Panels</h1>
      </html>
      <html depends="$alwaysHideCSSPanel$">
          <style>
            #modifyTable1 td {background: #000000;}
          </style>
        </html>
      <table id="modifyTable1">
        <search base="reports_base">
          <query>| table savedsearch_name shcluster_label app sharing author savedsearch_type disabled is_scheduled auto_summarize updated description dispatch_earliest_time dispatch_earliest_time_normalized dispatch_latest_time cron_schedule cron_schedule_described auto_summarize_cron_schedule scheduled_times next_scheduled_time realtime_schedule schedule_priority schedule_window allow_skew emp_name emp_title emp_dep emp_lob1 emp_type emp_status run_n_times run_on_startup max_concurrent is_visible acl_perms_read acl_perms_write email email_to lookup_filename script summary_index summary_index_name webhook webhook_param_url actions dispatch_ttl dispatch_as logevent logevent_param_event lookup lookup_append lookup_filename script_filename auto_summarize_workload_pool,workload_pool 
| eval scheduled_times=mvindex(scheduled_times,0,0) 
| `rename_reference_fields` 
| `rename_saved_searches_fields` 
| `rename_identity_fields`</query>
        </search>
        <option name="count">10</option>
        <option name="drilldown">row</option>
        <option name="refresh.display">preview</option>
        <option name="rowNumbers">true</option>
        <option name="totalsRow">false</option>
        <option name="wrap">false</option>
        <format type="color" field="Rest_Command">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="Splunk Roles">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="Splunk Instance">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="app">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="Name">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="Type">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="IS Disabled">
          <colorPalette type="map">{"0":#53A051,"1":#DC4E41}</colorPalette>
        </format>
        <format type="color" field="IS Scheduled">
          <colorPalette type="map">{"0":#DC4E41,"1":#53A051}</colorPalette>
        </format>
        <format type="color" field="search">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="number" field="#">
          <option name="precision">0</option>
        </format>
        <format type="color" field="Job Cron Schedule">
          <colorPalette type="map">{"* * * * *":#DC4E41,"*/1 * * * *":#DC4E41}</colorPalette>
        </format>
        <format type="color" field="Job RT Schedule">
          <colorPalette type="map">{"0":#DC4E41,"1":#53A051}</colorPalette>
        </format>
        <format type="color" field="Job Allow Skew">
          <colorPalette type="map">{"0":#DC4E41,"100%":#53A051}</colorPalette>
        </format>
        <format type="color" field="Job Schedule Human">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="Job Disabled?">
          <colorPalette type="map">{"0":#53A051,"1":#DC4E41}</colorPalette>
        </format>
        <format type="color" field="Job Scheduled?">
          <colorPalette type="map">{"0":#006D9C,"1":#F8BE34}</colorPalette>
        </format>
        <format type="color" field="Job Search">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="Job Correlation Search?">
          <colorPalette type="map">{"0":#006D9C,"1":#5A4575}</colorPalette>
        </format>
        <format type="color" field="Job Schedule Priority">
          <colorPalette type="map">{"default":#53A051,"higher":#F8BE34,"highest":#DC4E41}</colorPalette>
        </format>
        <format type="color" field="Job Run on Startup?">
          <colorPalette type="map">{"0":#53A051,"1":#DC4E41}</colorPalette>
        </format>
        <format type="color" field="Lookup Reference">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="Splunk SH (Cluster/Instance)">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <drilldown>
          <condition field="*">
            <set token="selected_savedsearch_name">$row.Job Name$</set>
            <set token="show_single_value">true</set>
            <unset token="show_event_list"></unset>
          </condition>
        </drilldown>
      </table>
      <single>
        <search base="reports_base">
          <query>| stats count</query>
        </search>
        <option name="colorMode">block</option>
        <option name="drilldown">none</option>
        <option name="height">91</option>
        <option name="rangeColors">["006FBE","006FBE"]</option>
        <option name="rangeValues">[100]</option>
        <option name="unit">Reports/Alerts</option>
        <option name="useColors">1</option>
      </single>
      <single>
        <search base="reports_base">
          <query>| stats dc(author) As Num_Authors</query>
        </search>
        <option name="colorMode">block</option>
        <option name="drilldown">none</option>
        <option name="height">91</option>
        <option name="rangeColors">["006FBE","006FBE"]</option>
        <option name="rangeValues">[0]</option>
        <option name="refresh.display">progressbar</option>
        <option name="unit">Authors</option>
        <option name="useColors">1</option>
      </single>
    </panel>
  </row>
  <row id="Reports_Alerts_Panel4">
    <panel id="panel_accordion_togglepanel_false_6" depends="$show_single_value$">
      <title>5.2 Reports/Alerts Search String for: $selected_savedsearch_name$</title>
      <html>
                <h1>Click on any entry to close all Drill Down Panels</h1>
            </html>
      <html depends="$alwaysHideCSSPanel$">
          <style>
            #modifyTable2 td {background: #000000;}
          </style>
        </html>
      <table id="modifyTable2">
        <search base="reports_base">
          <query>| where savedsearch_name="$selected_savedsearch_name$" 
| stats count by savedsearch_search
| fields savedsearch_search
| rename savedsearch_search As Search</query>
        </search>
        <option name="count">10</option>
        <option name="drilldown">row</option>
        <option name="refresh.display">preview</option>
        <option name="rowNumbers">false</option>
        <option name="totalsRow">true</option>
        <option name="wrap">true</option>
        <drilldown>
          <unset token="show_single_value"></unset>
        </drilldown>
      </table>
      <html depends="$alwaysHideCSSPanel$">
          <style>
            #modifyTable3 td {background: #000000;}
          </style>
        </html>
      <table id="modifyTable3">
        <title>5.3 Macros Used Reference &amp; Definition</title>
        <search base="reports_base">
          <query>| where savedsearch_name="$selected_savedsearch_name$" 
| stats count by shcluster_label Macro_Title 
| `get_macro_definition(shcluster_label,Macro_Title)` 
| fields Macro_Title Macro_Definition 
| stats count by Macro_Title Macro_Definition</query>
        </search>
        <option name="count">10</option>
        <option name="drilldown">none</option>
        <option name="refresh.display">preview</option>
        <option name="rowNumbers">false</option>
        <option name="totalsRow">true</option>
        <option name="wrap">true</option>
        <format type="color" field="Macro_Title">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
      </table>
    </panel>
    <panel id="panel_accordion_togglepanel_false_7" depends="$show_single_value$">
      <title>5.4 Reports/Alerts Reference Info for: $selected_savedsearch_name$</title>
      <html depends="$alwaysHideCSSPanel$">
          <style>
            #modifyTable4 td {background: #000000;}
          </style>
        </html>
      <table id="modifyTable4">
        <search base="reports_base">
          <query>| where savedsearch_name="$selected_savedsearch_name$" 
| table Lookup_Reference Datamodel_Reference Index_Reference Sourcetype_Reference Source_Reference Eventtype_Reference Rest_Reference</query>
        </search>
        <option name="drilldown">none</option>
        <option name="rowNumbers">false</option>
        <option name="wrap">false</option>
        <format type="color" field="Sample Scheduled Times">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="Lookup_Reference">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="Index_Reference">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="Source_Reference">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="Rest_Reference">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
      </table>
      <html depends="$alwaysHideCSSPanel$">
          <style>
            #modifyTable5 td {background: #000000;}
          </style>
        </html>
      <table id="modifyTable5">
        <title>5.5 Reports/Alerts Sample Scheduled Times for: $selected_savedsearch_name$</title>
        <search base="reports_base">
          <query>| where savedsearch_name="$selected_savedsearch_name$" 
| stats count by scheduled_times
| fields scheduled_times
| rename scheduled_times As "Sample Scheduled Times"</query>
        </search>
        <option name="count">5</option>
        <option name="drilldown">none</option>
        <option name="rowNumbers">true</option>
        <format type="color" field="Sample Scheduled Times">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
      </table>
    </panel>
  </row>
  <row id="Reports_Alerts_Panel5">
    <panel id="panel_accordion_togglepanel_false_8" depends="$show_single_value$">
      <title>5.6 Reports/Alerts Metadata info in the last $56_days$ Days for: $selected_savedsearch_name$</title>
      <input type="text" token="56_days" searchWhenChanged="true">
        <label>1. Number of Days</label>
        <default>7</default>
      </input>
      <html depends="$alwaysHideCSSPanel$">
          <style>
            #modifyTable6 td {background: #000000;}
          </style>
        </html>
      <table id="modifyTable6">
        <title>Powered by : splunk_rest_saved_searches_sh_summary_data_genr (Runs once every day) and splunk_rest_saved_searches_sh_summary_data_backup (Runs every 30 Minutes)</title>
        <search id="reports_backup">
          <query>`setup_summary_index_list` source IN (splunk_rest_saved_searches_sh_summary_data,splunk_rest_saved_searches_sh_summary_data_backup) shcluster_label IN ($shcluster_label2$) app IN ($app2$) savedsearch_name="$selected_savedsearch_name$" earliest=-$56_days$d@d 
| table _time shcluster_label app savedsearch_name savedsearch_type author disabled is_scheduled sharing cron_schedule schedule_priority schedule_window updated allow_skew savedsearch_search 
| sort 0 - _time 
| `ustime_format(_time)` 
| `ustime_format(updated)`</query>
          <earliest>-7d@h</earliest>
          <latest>now</latest>
        </search>
        <option name="count">10</option>
        <option name="drilldown">none</option>
        <option name="refresh.display">preview</option>
        <option name="rowNumbers">true</option>
        <option name="totalsRow">false</option>
        <option name="wrap">false</option>
        <format type="color" field="shcluster_label">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="savedsearch_name">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="disabled">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="is_scheduled">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
      </table>
    </panel>
  </row>
  <row id="Reports_Alerts_Panel7">
    <panel id="panel_accordion_togglepanel_false_9" depends="$show_single_value$">
      <title>5.7 Reports/Alerts Changes in the last $57_days$ Days for: $selected_savedsearch_name$</title>
      <input type="text" token="57_days" searchWhenChanged="true">
        <label>1. Number of Days</label>
        <default>7</default>
      </input>
      <html depends="$alwaysHideCSSPanel$">
          <style>
            #modifyTable7 td {background: #000000;}
          </style>
        </html>
      <table id="modifyTable7">
        <title>Powered by : splunk_internal_splunkd_ui_access_ko_changes_idx_summary_tracker (Runs once every 5 Minutes)</title>
        <search id="report_changes">
          <query>`setup_summary_index_list` source="splunk_internal_splunkd_ui_access_ko_changes_idx_summary_tracker" Knowledge_Object_Type=Reports_Alerts Knowledge_Object="$selected_savedsearch_name$" earliest=-$57_days$d@d 
| fields _time Change_Time shcluster_label user Client_IP Knowledge_Object_Type Knowledge_Object Change_Status Duration Provenance 
| stats count LATEST(_time) AS _time LATEST(Change_Time) AS Change_Time LATEST(user) AS user LATEST(Client_IP) AS Client_IP LATEST(Knowledge_Object_Type) AS Knowledge_Object_Type LATEST(Change_Status) AS Change_Status LATEST(Duration) AS Duration LATEST(Provenance) AS Provenance BY shcluster_label Knowledge_Object
| `ustime_format(updated)` 
| `ustime_format(Change_Time)`</query>
          <earliest>-7d@h</earliest>
          <latest>now</latest>
        </search>
        <option name="count">10</option>
        <option name="drilldown">none</option>
        <option name="refresh.display">preview</option>
        <option name="rowNumbers">true</option>
        <option name="totalsRow">false</option>
        <option name="wrap">false</option>
        <format type="color" field="shcluster_label">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="Knowledge_Object_Type">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="Change_Status">
          <colorPalette type="map">{"200":#53A051,"404":#DC4E41}</colorPalette>
        </format>
      </table>
    </panel>
  </row>
  <row id="Reports_Alerts_Panel8">
    <panel id="panel_accordion_togglepanel_false_11" depends="$gadget_lib_loaded$">
      <title>6. Reports Stats By $split_by_tok_2$</title>
      <input type="dropdown" token="split_by_tok_2" searchWhenChanged="true">
        <label>1. Split By</label>
        <choice value="shcluster_label">SH Cluster Label</choice>
        <choice value="Splunk_Instance">Splunk Instance</choice>
        <choice value="app">App</choice>
        <choice value="sharing">App Sharing</choice>
        <choice value="author">Author</choice>
        <choice value="emp_name">Employee Name</choice>
        <choice value="savedsearch_type">Saved Search Type</choice>
        <choice value="emp_lob1">Employee LOB</choice>
        <choice value="emp_dep">Employee Department</choice>
        <choice value="emp_cc">Employee Cost Center</choice>
        <choice value="emp_title">Employee Title</choice>
        <choice value="emp_type">Employee Type</choice>
        <choice value="emp_status">Employee Status</choice>
        <choice value="updated">Update Date</choice>
        <choice value="Index_Reference">Index Reference</choice>
        <choice value="Lookup_Reference">Lookup Reference</choice>
        <choice value="Datamodel_Reference">Data Model Reference</choice>
        <choice value="Rest_Reference">Rest Reference</choice>
        <choice value="Report_Reference">Report Reference</choice>
        <choice value="schedule_priority">Schedule Priority</choice>
        <choice value="schedule_window">Schedule Window</choice>
        <choice value="allow_skew">Allow Skew</choice>
        <choice value="realtime_schedule">Realtime Schedule?</choice>
        <choice value="is_scheduled">IS Scheduled?</choice>
        <choice value="disabled">Disabled?</choice>
        <choice value="cron_schedule">Cron Schedule</choice>
        <choice value="cron_schedule_described">Cron Schedule Humanly Readable</choice>
        <choice value="dispatch_earliest_time">Dispatch Earliest Time</choice>
        <choice value="dispatch_earliest_time_normalized">Dispatch Earliest Time Normalized</choice>
        <choice value="lookup_filename">Populate Lookup Destinations</choice>
        <choice value="dispatch_ttl">Dispatch Time to Live</choice>
        <choice value="summary_index">Summary Indexing?</choice>
        <choice value="summary_index_name">Summary Index Name</choice>
        <choice value="actions">Actions</choice>
        <choice value="auto_summarize">Auto Summarize</choice>
        <choice value="logevent">Log Event</choice>
        <choice value="acl_removable">Removable?</choice>
        <choice value="orphan">Orphaned?</choice>
        <default>app</default>
        <initialValue>app</initialValue>
      </input>
      <chart>
        <search base="reports_base">
          <query>| stats count by $split_by_tok_2$
| search NOT $split_by_tok_2$ IN (Undefined,no-*-reference)</query>
        </search>
        <option name="charting.backgroundColor">FFFF31</option>
        <option name="charting.chart">pie</option>
        <option name="charting.chart.showPercent">1</option>
        <option name="charting.chart.sliceCollapsingThreshold">0</option>
        <option name="charting.drilldown">none</option>
        <option name="charting.seriesColors">[0x1e93c6, 0xf2b827, 0xd6563c, 0x6a5c9e, 0x31a35f, 0xed8440, 0x3863a0, 0xa2cc3e, 0xcc5068, 0x73427f, 0x11a88b, 0xea9600, 0x0e776d, 0xffb380, 0xaa3977, 0x91af27, 0x4453aa, 0x99712b, 0x553577, 0x97bc71, 0xd35c2d, 0x314d5b, 0x99962b, 0x844539, 0x00b290, 0xe2c188, 0xa34a41, 0x44416d, 0xe29847, 0x8c8910, 0x0b416d, 0x774772, 0x3d9988, 0xbdbd5e, 0x5f7396, 0x844539]</option>
        <option name="height">700</option>
        <option name="refresh.display">progressbar</option>
      </chart>
    </panel>
  </row>
  <row id="Reports_Alerts_Panel25">
    <panel id="panel_accordion_togglepanel_false_12" depends="$gadget_lib_loaded$">
      <title>1. Top N Most Used Reports/Alerts Over Time</title>
      <input type="time" token="TimeRangePkr2" searchWhenChanged="false">
        <label>1. Time Range</label>
        <default>
          <earliest>@d</earliest>
          <latest>now</latest>
        </default>
      </input>
      <input type="dropdown" token="span_period" searchWhenChanged="false">
        <label>2. Span Period</label>
        <default></default>
        <choice value="">Automatic</choice>
        <choice value="span=1s">1 seconds</choice>
        <choice value="span=5s">5 seconds</choice>
        <choice value="span=10s">10 seconds</choice>
        <choice value="span=15s">15 seconds</choice>
        <choice value="span=30s">30 seconds</choice>
        <choice value="span=1m">1 minute</choice>
        <choice value="span=5m">5 minutes</choice>
        <choice value="span=10m">10 minutes</choice>
        <choice value="span=15m">15 minutes</choice>
        <choice value="span=30m">30 minutes</choice>
        <choice value="span=45m">45 minutes</choice>
        <choice value="span=1h">1 hour</choice>
        <choice value="span=2h">2 hours</choice>
        <choice value="span=3h">3 hours</choice>
        <choice value="span=4h">4 hours</choice>
        <choice value="span=6h">6 hours</choice>
        <choice value="span=8h">8 hours</choice>
        <choice value="span=12h">12 hours</choice>
        <choice value="span=1d">1 day</choice>
        <choice value="span=1w">1 week</choice>
        <choice value="span=1mon">1 month</choice>
        <choice value="span=12mon">1 year</choice>
      </input>
      <input type="multiselect" token="shcluster_label2" searchWhenChanged="false" id="ra_shcluster_label4">
        <label>3. Splunk SH (Cluster/Instance)</label>
        <fieldForLabel>shcluster_label2</fieldForLabel>
        <fieldForValue>shcluster_label</fieldForValue>
        <search base="execution_tracker_base">
          <query>| stats count by shcluster_label</query>
        </search>
        <choice value="*">All</choice>
        <default>*</default>
        <initialValue>*</initialValue>
        <delimiter>,</delimiter>
      </input>
      <input type="multiselect" token="Splunk_Roles3" searchWhenChanged="false" id="ra_Splunk_Roles4">
        <label>4.1 Splunk Roles</label>
        <fieldForLabel>Splunk_Roles3</fieldForLabel>
        <fieldForValue>Splunk_Roles</fieldForValue>
        <search base="execution_tracker_base">
          <query>| stats count by Splunk_Roles</query>
        </search>
        <choice value="*">All</choice>
        <default>*</default>
        <initialValue>*</initialValue>
        <delimiter>,</delimiter>
      </input>
      <input type="text" token="Splunk_Roles4" searchWhenChanged="true">
        <label>4.2 Splunk Roles (Contains)</label>
        <default>*</default>
        <initialValue>*</initialValue>
      </input>
      <input type="multiselect" token="Splunk_Instance2" searchWhenChanged="false" id="ra_Splunk_Instance4">
        <label>5. Splunk Instance</label>
        <fieldForLabel>Splunk_Instance2</fieldForLabel>
        <fieldForValue>Splunk_Instance</fieldForValue>
        <search base="execution_tracker_base">
          <query>| stats count by Splunk_Instance</query>
        </search>
        <choice value="*">All</choice>
        <default>*</default>
        <initialValue>*</initialValue>
        <delimiter>,</delimiter>
      </input>
      <input type="multiselect" token="app2" searchWhenChanged="false" id="ra_app5">
        <label>6. App</label>
        <fieldForLabel>app2</fieldForLabel>
        <fieldForValue>app</fieldForValue>
        <search base="execution_tracker_base">
          <query>| stats count by app</query>
        </search>
        <choice value="*">All</choice>
        <default>*</default>
        <initialValue>*</initialValue>
      </input>
      <input type="dropdown" token="savedsearch_name" searchWhenChanged="false">
        <label>7. Report/Alert Name</label>
        <choice value="*">All</choice>
        <initialValue>*</initialValue>
        <fieldForLabel>savedsearch_name</fieldForLabel>
        <fieldForValue>savedsearch_name</fieldForValue>
        <search base="execution_tracker_base">
          <query>| stats count by savedsearch_name</query>
        </search>
        <default>*</default>
      </input>
      <input type="dropdown" token="split_by_tok_22" searchWhenChanged="true">
        <label>8. Split By</label>
        <choice value="app">App</choice>
        <choice value="user">User</choice>
        <choice value="savedsearch_name">Report/Alert</choice>
        <choice value="Splunk_Instance">Splunk Instance</choice>
        <default>savedsearch_name</default>
        <initialValue>savedsearch_name</initialValue>
      </input>
      <input type="text" token="exclusion_tok2" searchWhenChanged="true">
        <label>9. Exclude</label>
        <default>none</default>
        <initialValue>none</initialValue>
      </input>
      <input type="text" token="top_tok2" searchWhenChanged="true">
        <label>10. Timechart IN top:</label>
        <default>10</default>
        <initialValue>10</initialValue>
      </input>
      <chart>
        <search base="execution_tracker_base">
          <query>| search NOT savedsearch_name IN ("$exclusion_tok2$") 
| timechart useother=f fixedrange=f usenull=f limit=0 $span_period$
    dc(user) As Num_Users
    By $split_by_tok_22$ where Max in top$top_tok2$</query>
        </search>
        <option name="charting.axisTitleX.visibility">collapsed</option>
        <option name="charting.axisTitleY.visibility">collapsed</option>
        <option name="charting.backgroundColor">FFFF31</option>
        <option name="charting.chart">column</option>
        <option name="charting.chart.showDataLabels">all</option>
        <option name="charting.chart.stackMode">stacked</option>
        <option name="charting.drilldown">none</option>
        <option name="charting.legend.labelStyle.overflowMode">ellipsisEnd</option>
        <option name="charting.legend.placement">top</option>
        <option name="charting.seriesColors">[0x1e93c6, 0xf2b827, 0xd6563c, 0x6a5c9e, 0x31a35f, 0xed8440, 0x3863a0, 0xa2cc3e, 0xcc5068, 0x73427f, 0x11a88b, 0xea9600, 0x0e776d, 0xffb380, 0xaa3977, 0x91af27, 0x4453aa, 0x99712b, 0x553577, 0x97bc71, 0xd35c2d, 0x314d5b, 0x99962b, 0x844539, 0x00b290, 0xe2c188, 0xa34a41, 0x44416d, 0xe29847, 0x8c8910, 0x0b416d, 0x774772, 0x3d9988, 0xbdbd5e, 0x5f7396, 0x844539]</option>
        <option name="height">600</option>
        <option name="refresh.display">progressbar</option>
      </chart>
    </panel>
  </row>
  <row id="Reports_Alerts_Panel29">
    <panel id="panel_accordion_togglepanel_false_13" depends="$gadget_lib_loaded$">
      <title>2. Reports/Alerts Execution information from Summary Indexeing</title>
      <input type="time" token="TimeRangePkr2" searchWhenChanged="false">
        <label>1. Time Range</label>
        <default>
          <earliest>@d</earliest>
          <latest>now</latest>
        </default>
      </input>
      <input type="dropdown" token="span_period" searchWhenChanged="false">
        <label>2. Span Period</label>
        <default></default>
        <choice value="">Automatic</choice>
        <choice value="span=1s">1 seconds</choice>
        <choice value="span=5s">5 seconds</choice>
        <choice value="span=10s">10 seconds</choice>
        <choice value="span=15s">15 seconds</choice>
        <choice value="span=30s">30 seconds</choice>
        <choice value="span=1m">1 minute</choice>
        <choice value="span=5m">5 minutes</choice>
        <choice value="span=10m">10 minutes</choice>
        <choice value="span=15m">15 minutes</choice>
        <choice value="span=30m">30 minutes</choice>
        <choice value="span=45m">45 minutes</choice>
        <choice value="span=1h">1 hour</choice>
        <choice value="span=2h">2 hours</choice>
        <choice value="span=3h">3 hours</choice>
        <choice value="span=4h">4 hours</choice>
        <choice value="span=6h">6 hours</choice>
        <choice value="span=8h">8 hours</choice>
        <choice value="span=12h">12 hours</choice>
        <choice value="span=1d">1 day</choice>
        <choice value="span=1w">1 week</choice>
        <choice value="span=1mon">1 month</choice>
        <choice value="span=12mon">1 year</choice>
      </input>
      <input type="multiselect" token="shcluster_label2" searchWhenChanged="false" id="ra_shcluster_label2">
        <label>3. Splunk SH (Cluster/Instance)</label>
        <fieldForLabel>shcluster_label2</fieldForLabel>
        <fieldForValue>shcluster_label</fieldForValue>
        <search base="execution_tracker_base">
          <query>| stats count by shcluster_label</query>
        </search>
        <choice value="*">All</choice>
        <default>*</default>
        <initialValue>*</initialValue>
        <delimiter>,</delimiter>
      </input>
      <input type="multiselect" token="Splunk_Roles3" searchWhenChanged="false" id="ra_Splunk_Roles3">
        <label>4.1 Splunk Roles</label>
        <fieldForLabel>Splunk_Roles3</fieldForLabel>
        <fieldForValue>Splunk_Roles</fieldForValue>
        <search base="execution_tracker_base">
          <query>| stats count by Splunk_Roles</query>
        </search>
        <choice value="*">All</choice>
        <default>*</default>
        <initialValue>*</initialValue>
        <delimiter>,</delimiter>
      </input>
      <input type="text" token="Splunk_Roles4" searchWhenChanged="true">
        <label>4.2 Splunk Roles (Contains)</label>
        <default>*</default>
        <initialValue>*</initialValue>
      </input>
      <input type="multiselect" token="Splunk_Instance2" searchWhenChanged="false" id="ra_Splunk_Instance2">
        <label>5. Splunk Instance</label>
        <fieldForLabel>Splunk_Instance2</fieldForLabel>
        <fieldForValue>Splunk_Instance</fieldForValue>
        <search base="execution_tracker_base">
          <query>| stats count by Splunk_Instance</query>
        </search>
        <choice value="*">All</choice>
        <default>*</default>
        <initialValue>*</initialValue>
        <delimiter>,</delimiter>
      </input>
      <input type="multiselect" token="app2" searchWhenChanged="false" id="ra_app2">
        <label>6. App</label>
        <fieldForLabel>app2</fieldForLabel>
        <fieldForValue>app</fieldForValue>
        <search base="execution_tracker_base">
          <query>| stats count by app</query>
        </search>
        <choice value="*">All</choice>
        <default>*</default>
        <initialValue>*</initialValue>
      </input>
      <input type="dropdown" token="savedsearch_name" searchWhenChanged="false">
        <label>7. Report/Alert Name</label>
        <choice value="*">All</choice>
        <initialValue>*</initialValue>
        <fieldForLabel>savedsearch_name</fieldForLabel>
        <fieldForValue>savedsearch_name</fieldForValue>
        <search base="execution_tracker_base">
          <query>| stats count by savedsearch_name</query>
        </search>
        <default>*</default>
      </input>
      <html depends="$alwaysHideCSSPanel$">
          <style>
            #modifyTable9 td {background: #000000;}
          </style>
        </html>
      <table id="modifyTable9">
        <search base="execution_tracker_base">
          <query>| search NOT savedsearch_name IN ("*_ACCELERATE_*") NOT app IN ("none") 
| stats Max(total_run_time) As total_run_time, LATEST(Dashboard_Reference) AS Dashboard_Reference, LATEST(Datamodel_Reference) AS Datamodel_Reference, LATEST(Eventtype_Reference) AS Eventtype_Reference, LATEST(Index_Reference) AS Index_Reference, LATEST(Lookup_Reference) AS Lookup_Reference, LATEST(Macro_Reference) AS Macro_Reference, LATEST(Report_Reference) AS Report_Reference, LATEST(Rest_Reference) AS Rest_Reference, LATEST(Source_Reference) AS Source_Reference, LATEST(Sourcetype_Reference) AS Sourcetype_Reference, LATEST(Splunk_Instance) AS Splunk_Instance, LATEST(Splunk_Roles) AS Splunk_Roles, LATEST(acl_perms_read) AS acl_perms_read, LATEST(acl_perms_write) AS acl_perms_write, LATEST(action_email) AS action_email, LATEST(actions) AS actions, LATEST(alert_actions) AS alert_actions, LATEST(alert_comparator) AS alert_comparator, LATEST(alert_severity) AS alert_severity, LATEST(alert_threshold) AS alert_threshold, LATEST(alert_track) AS alert_track, LATEST(alert_type) AS alert_type, LATEST(allow_skew) AS allow_skew, LATEST(author) AS author, LATEST(auto_summarize) AS auto_summarize, LATEST(auto_summarize_cron_schedule) AS auto_summarize_cron_schedule, LATEST(auto_summarize_max_concurrent) AS auto_summarize_max_concurrent, LATEST(concurrency_category) AS concurrency_category, LATEST(concurrency_context) AS concurrency_context, LATEST(concurrency_limit) AS concurrency_limit, LATEST(cron_schedule) AS cron_schedule, LATEST(description) AS description, LATEST(disabled) AS disabled, LATEST(dispatch_auto_cancel) AS dispatch_auto_cancel, LATEST(dispatch_auto_pause) AS dispatch_auto_pause, LATEST(dispatch_buckets) AS dispatch_buckets, LATEST(dispatch_earliest_time) AS dispatch_earliest_time, LATEST(dispatch_latest_time) AS dispatch_latest_time, LATEST(dispatch_time) AS dispatch_time, LATEST(dispatch_ttl) AS dispatch_ttl, LATEST(emp_city) AS emp_city, LATEST(emp_country) AS emp_country, LATEST(emp_dep) AS emp_dep, LATEST(emp_email) AS emp_email, LATEST(emp_first) AS emp_first, LATEST(emp_lob1) AS emp_lob1, LATEST(emp_lob2) AS emp_lob2, LATEST(emp_lob3) AS emp_lob3, LATEST(emp_lob4) AS emp_lob4, LATEST(emp_lob5) AS emp_lob5, LATEST(emp_lob6) AS emp_lob6, LATEST(emp_name) AS emp_name, LATEST(emp_region1) AS emp_region1, LATEST(emp_status) AS emp_status, LATEST(emp_title) AS emp_title, LATEST(emp_type) AS emp_type, LATEST(emp_vendor) AS emp_vendor, LATEST(is_scheduled) AS is_scheduled, LATEST(is_visible) AS is_visible, LATEST(kpi_invert) AS kpi_invert, LATEST(makestreams_param_verbose) AS makestreams_param_verbose, LATEST(max_concurrent) AS max_concurrent, LATEST(nbtstat_param_verbose) AS nbtstat_param_verbose, LATEST(next_scheduled_time) AS next_scheduled_time, LATEST(nslookup_param_verbose) AS nslookup_param_verbose, LATEST(outputtelemetry) AS outputtelemetry, LATEST(populate_lookup) AS populate_lookup, LATEST(priority) AS priority, LATEST(realtime_schedule) AS realtime_schedule, LATEST(reason) AS reason, MAX(result_count) AS result_count, LATEST(run_n_times) AS run_n_times, LATEST(run_on_startup) AS run_on_startup, LATEST(savedsearch_search) AS savedsearch_search, LATEST(savedsearch_type) AS savedsearch_type, LATEST(schedule_priority) AS schedule_priority, LATEST(schedule_window) AS schedule_window, LATEST(scheduled_time) AS scheduled_time, LATEST(scheduled_times) AS scheduled_times, LATEST(script) AS script, LATEST(sharing) AS sharing, LATEST(status) AS status, LATEST(summary_index) AS summary_index, LATEST(summary_index_name) AS summary_index_name, LATEST(updated) AS updated, LATEST(user) AS user, LATEST(window_time) AS window_time, LATEST(workload_pool) AS workload_pool, LATEST(_time) AS _time
    by shcluster_label app savedsearch_name 
| eval total_run_time_Human=total_run_time 
| `gmc_convert_runtime(total_run_time_Human)` 
| `normalize_earliest_time(dispatch_earliest_time)` 
| `cron_descriptor(cron_schedule)` 
| eval
    Latency=round(dispatch_time - scheduled_time, 2) ,
    scheduled_time=strftime(scheduled_time,"%m/%d/%Y %I:%M:%S"),
    dispatch_time=strftime(dispatch_time,"%m/%d/%Y %I:%M:%S") 
| table _time shcluster_label savedsearch_name app user emp_name scheduled_time dispatch_time Latency total_run_time total_run_time_Human result_count cron_schedule cron_schedule_described dispatch_earliest_time dispatch_earliest_time_normalized allow_skew priority window_time Status workload_pool 
| sort 0 - total_run_time</query>
        </search>
        <option name="count">10</option>
        <option name="drilldown">none</option>
        <option name="refresh.display">progressbar</option>
        <option name="rowNumbers">true</option>
        <option name="wrap">false</option>
        <format type="color" field="savedsearch_name">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="savedsearch_name">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="total_run_time">
          <colorPalette type="minMidMax" maxColor="#DC4E41" midColor="#F1813F" minColor="#F8BE34"></colorPalette>
          <scale type="minMidMax" midType="percentile" midValue="75"></scale>
        </format>
        <format type="color" field="savedsearch_name">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="savedsearch_name">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="total_run_time">
          <colorPalette type="minMidMax" maxColor="#DC4E41" midColor="#F1813F" minColor="#F8BE34"></colorPalette>
          <scale type="minMidMax" midType="percentile" midValue="75"></scale>
        </format>
      </table>
    </panel>
  </row>
  <row id="Reports_Alerts_Panel27">
    <panel id="panel_accordion_togglepanel_false_14" depends="$gadget_lib_loaded$">
      <title>3. Search Job Activity from REST</title>
      <input type="time" token="TimeRangePkr3" searchWhenChanged="false">
        <label>1. Time Range</label>
        <default>
          <earliest>@d</earliest>
          <latest>now</latest>
        </default>
      </input>
      <input type="multiselect" token="shcluster_label2" searchWhenChanged="false" id="ra_Splunk_Instance3">
        <label>2. Splunk SH (Cluster/Instance)</label>
        <fieldForLabel>shcluster_label2</fieldForLabel>
        <fieldForValue>shcluster_label</fieldForValue>
        <search base="inspect_tracker_base">
          <query>| stats count by shcluster_label</query>
        </search>
        <choice value="*">All</choice>
        <default>*</default>
        <initialValue>*</initialValue>
        <delimiter>,</delimiter>
      </input>
      <input type="multiselect" token="Splunk_Roles5" searchWhenChanged="false" id="ra_Splunk_Roles5">
        <label>3.1 Splunk Roles</label>
        <fieldForLabel>Splunk_Roles5</fieldForLabel>
        <fieldForValue>Splunk_Roles</fieldForValue>
        <search base="inspect_tracker_base">
          <query>| stats count by Splunk_Roles</query>
        </search>
        <choice value="*">All</choice>
        <default>*</default>
        <initialValue>*</initialValue>
        <delimiter>,</delimiter>
      </input>
      <input type="text" token="Splunk_Roles6" searchWhenChanged="true">
        <label>3.2 Splunk Roles (Contains)</label>
        <default>*</default>
        <initialValue>*</initialValue>
      </input>
      <input type="multiselect" token="Splunk_Instance2" searchWhenChanged="false" id="ra_Splunk_Instance5">
        <label>4. Splunk Instance</label>
        <fieldForLabel>Splunk_Instance2</fieldForLabel>
        <fieldForValue>Splunk_Instance</fieldForValue>
        <search base="inspect_tracker_base">
          <query>| stats count by Splunk_Instance</query>
        </search>
        <choice value="*">All</choice>
        <default>*</default>
        <initialValue>*</initialValue>
        <delimiter>,</delimiter>
      </input>
      <input type="dropdown" token="provenance" searchWhenChanged="false">
        <label>5. Provenance</label>
        <fieldForLabel>provenance</fieldForLabel>
        <fieldForValue>provenance</fieldForValue>
        <search base="inspect_tracker_base">
          <query>| stats count by provenance</query>
        </search>
        <choice value="*">All</choice>
        <default>*</default>
        <initialValue>*</initialValue>
      </input>
      <input type="multiselect" token="app3" searchWhenChanged="false" id="ra_app3">
        <label>6. App</label>
        <fieldForLabel>app3</fieldForLabel>
        <fieldForValue>app</fieldForValue>
        <search base="inspect_tracker_base">
          <query>| stats count by app</query>
        </search>
        <choice value="*">All</choice>
        <default>*</default>
        <initialValue>*</initialValue>
      </input>
      <input type="multiselect" token="owner_tok8" searchWhenChanged="false" id="ra_owner_tok8">
        <label>7.1 User</label>
        <fieldForLabel>owner_tok8</fieldForLabel>
        <fieldForValue>user</fieldForValue>
        <search base="inspect_tracker_base">
          <query>| stats count by user</query>
        </search>
        <choice value="*">All-Users</choice>
        <default>*</default>
        <delimiter>,</delimiter>
      </input>
      <input type="text" token="owner_tok81" searchWhenChanged="true">
        <label>7.2. User</label>
        <default>*</default>
        <initialValue>*</initialValue>
      </input>
      <input type="dropdown" token="savedsearch_name" searchWhenChanged="false">
        <label>8. Report/Alert Name if Applicable</label>
        <choice value="*">All</choice>
        <initialValue>*</initialValue>
        <fieldForLabel>savedsearch_name</fieldForLabel>
        <fieldForValue>savedsearch_name</fieldForValue>
        <search base="inspect_tracker_base">
          <query>| stats count by savedsearch_name</query>
        </search>
        <default>*</default>
      </input>
      <input type="dropdown" token="status_tok8" searchWhenChanged="false">
        <label>9. Search State</label>
        <fieldForLabel>status_tok8</fieldForLabel>
        <fieldForValue>status</fieldForValue>
        <search base="inspect_tracker_base">
          <query>| stats count by status</query>
        </search>
        <choice value="*">All</choice>
        <default>*</default>
        <initialValue>*</initialValue>
      </input>
      <input type="dropdown" token="ttl_tok8" searchWhenChanged="false">
        <label>10. Time To Live (TTL)</label>
        <fieldForLabel>ttl_tok8</fieldForLabel>
        <fieldForValue>ttl</fieldForValue>
        <search base="inspect_tracker_base">
          <query>| stats count by ttl</query>
        </search>
        <choice value="*">All</choice>
        <default>*</default>
        <initialValue>*</initialValue>
      </input>
      <input type="dropdown" token="error_messages" searchWhenChanged="false">
        <label>11. Error Messages</label>
        <fieldForLabel>error_messages</fieldForLabel>
        <fieldForValue>error_messages</fieldForValue>
        <search base="inspect_tracker_base">
          <query>| stats count by error_messages</query>
        </search>
        <choice value="*">All</choice>
        <default>*</default>
        <initialValue>*</initialValue>
      </input>
      <input type="text" token="total_run_time_tok8" searchWhenChanged="true">
        <label>12. Run Duration in Seconds &gt;= $total_run_time_tok8$ Seconds</label>
        <default>0</default>
        <initialValue>0</initialValue>
      </input>
      <input type="text" token="diskUsage_MB_tok8" searchWhenChanged="true">
        <label>13. Disk Usage In MB &gt;= $diskUsage_MB_tok8$ MB</label>
        <default>0</default>
        <initialValue>0</initialValue>
      </input>
      <html depends="$alwaysHideCSSPanel$">
          <style>
            #modifyTable10 td {background: #000000;}
          </style>
        </html>
      <table id="modifyTable10">
        <title>Powered by: splunk_rest_search_jobs_sh_summary_tracker</title>
        <search base="inspect_tracker_base">
          <query>| stats LATEST(Splunk_Instance) AS Splunk_Instance, LATEST(Splunk_Roles) AS Splunk_Roles, LATEST(TotalBucketsCount) AS TotalBucketsCount, LATEST(TotalEliminatedBucketsCount) AS TotalEliminatedBucketsCount, LATEST(available_count) AS available_count, LATEST(base_search) AS base_search, LATEST(custom_workload_pool) AS custom_workload_pool, LATEST(delegate) AS delegate, LATEST(diskUsage) AS diskUsage, LATEST(diskUsage_GB) AS diskUsage_GB, LATEST(diskUsage_KB) AS diskUsage_KB, LATEST(diskUsage_MB) AS diskUsage_MB, LATEST(diskUsage_PB) AS diskUsage_PB, LATEST(diskUsage_TB) AS diskUsage_TB, LATEST(doneProgress) AS doneProgress, LATEST(emp_city) AS emp_city, LATEST(emp_country) AS emp_country, LATEST(emp_dep) AS emp_dep, LATEST(emp_email) AS emp_email, LATEST(emp_first) AS emp_first, LATEST(emp_last) AS emp_last, LATEST(emp_lob1) AS emp_lob1, LATEST(emp_lob2) AS emp_lob2, LATEST(emp_lob3) AS emp_lob3, LATEST(emp_lob4) AS emp_lob4, LATEST(emp_lob5) AS emp_lob5, LATEST(emp_lob6) AS emp_lob6, LATEST(emp_name) AS emp_name, LATEST(emp_region1) AS emp_region1, LATEST(emp_status) AS emp_status, LATEST(emp_title) AS emp_title, LATEST(emp_type) AS emp_type, LATEST(emp_vendor) AS emp_vendor, LATEST(error_messages) AS error_messages, LATEST(event_count) AS event_count, LATEST(info_messages) AS info_messages, LATEST(isBatchModeSearch) AS isBatchModeSearch, LATEST(isEventsPreviewEnabled) AS isEventsPreviewEnabled, LATEST(isGoodSummarizationCandidate) AS isGoodSummarizationCandidate, LATEST(isPreviewEnabled) AS isPreviewEnabled, LATEST(isRealTimeSearch) AS isRealTimeSearch, LATEST(isRemoteTimeline) AS isRemoteTimeline, LATEST(keywords) AS keywords, LATEST(meanPreviewPeriod) AS meanPreviewPeriod, LATEST(numPreviews) AS numPreviews, LATEST(pid) AS pid, LATEST(priority) AS priority, LATEST(provenance) AS provenance, LATEST(request_custom_workload_pool) AS request_custom_workload_pool, LATEST(request_workload_pool) AS request_workload_pool, LATEST(resultIsStreaming) AS resultIsStreaming, LATEST(resultPreviewCount) AS resultPreviewCount, LATEST(result_count) AS result_count, LATEST(runtime_auto_cancel) AS runtime_auto_cancel, LATEST(runtime_auto_pause) AS runtime_auto_pause, LATEST(sampleRatio) AS sampleRatio, LATEST(sampleSeed) AS sampleSeed, LATEST(scan_count) AS scan_count, LATEST(search) AS search, LATEST(searchCanBeEventType) AS searchCanBeEventType, LATEST(search_et) AS search_et, LATEST(search_id_normalized) AS search_id_normalized, LATEST(search_lt) AS search_lt, LATEST(sid) AS sid, LATEST(status) AS status, LATEST(total_run_time) AS total_run_time, LATEST(total_run_time_Sec) AS total_run_time_Sec, LATEST(ttl) AS ttl, LATEST(user) AS user, LATEST(warn_messages) AS warn_messages, LATEST(workload_action_information) AS workload_action_information, LATEST(workload_pool) AS workload_pool LATEST(_time) AS _time BY shcluster_label app savedsearch_name 
| eval
    EarliestTime=strftime(search_et,"%m/%d/%Y %I:%M:%S"),
    LatestTime=strftime(search_lt,"%m/%d/%Y %I:%M:%S"),
    total_run_time_Human = total_run_time 
| `gmc_convert_runtime(total_run_time_Human)` 
| `get_saved_searches_info(shcluster_label,app,savedsearch_name)` 
| table _time shcluster_label app user provenance savedsearch_name status EarliestTime LatestTime ttl priority diskUsage_MB total_run_time total_run_time_Human result_count event_count available_count scan_count searchCanBeEventType error_messages workload_action_information workload_pool custom_workload_pool request_custom_workload_pool request_workload_pool savedsearch_type author sharing cron_schedule realtime_schedule schedule_priority schedule_window updated allow_skew dispatch_earliest_time dispatch_latest_time description savedsearch_search 
| `rename_job_activity_fields` 
| sort 0 - total_run_time</query>
        </search>
        <option name="count">15</option>
        <option name="drilldown">none</option>
        <option name="refresh.display">progressbar</option>
        <option name="rowNumbers">true</option>
        <option name="wrap">false</option>
        <format type="color" field="status">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="shcluster_label">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="label">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="app">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="owner">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="number" field="total_run_time">
          <option name="unit">s</option>
        </format>
        <format type="number" field="event_count">
          <option name="precision">0</option>
        </format>
        <format type="number" field="diskUsage">
          <option name="unit">MB</option>
        </format>
        <format type="number" field="diskUsage_MB">
          <option name="unit">MB</option>
        </format>
        <format type="color" field="diskUsage_MB">
          <colorPalette type="minMidMax" maxColor="#F1813F" midColor="#F8BE34" minColor="#53A051"></colorPalette>
          <scale type="minMidMax" midType="percentile" midValue="80"></scale>
        </format>
        <format type="number" field="total_run_time_Sec">
          <option name="precision">0</option>
          <option name="unit">Seconds</option>
        </format>
        <format type="color" field="error_messages">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="number" field="doneProgressPerc">
          <option name="unit">%</option>
        </format>
        <format type="color" field="Job Error Messages">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="savedsearch_name">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="number" field="Job Disk Usage">
          <option name="unit">MB</option>
        </format>
        <format type="color" field="Job Status">
          <colorPalette type="map">{"Failed":#D41F1F,"Completed":#118832}</colorPalette>
        </format>
        <format type="color" field="Job Disk Usage">
          <colorPalette type="minMidMax" maxColor="#D41F1F" midColor="#CBA700" minColor="#118832"></colorPalette>
          <scale type="minMidMax" midType="percentile" midValue="50"></scale>
        </format>
        <format type="number" field="ttl">
          <option name="precision">0</option>
          <option name="unit">s</option>
        </format>
      </table>
    </panel>
  </row>
  <row id="Reports_Alerts_Panel6">
    <panel id="panel_accordion_togglepanel_true_15" depends="$gadget_lib_loaded$">
      <title>7. Reports/Alerts Associated Insights App for Splunk Job(s)</title>
      <html>
            <ol>
               
               <li>
                  <a href="/app/insights_app_splunk/search?s=splunk_rest_saved_searches_sh_summary_data_genr" target="_blank" rel="noopener">Splunk Reports/Alerts (Saved Searches) Summary Index Gen Job From REST</a>
               </li>
               <li>
                  <a href="/app/insights_app_splunk/search?s=splunk_summary_saved_searches_sh_kv_store_lookup_genr" target="_blank" rel="noopener">Splunk Reports/Alerts (Saved Searches) KV Store Gen Job From Summary Index</a>
               </li>
               <div class="btn-group1">
                  <div id="mod_info">
                     <a class="btn middle contour" target="blank" href="/app/lookup_editor/lookup_edit?owner=nobody&amp;namespace=insights_app_splunk/&amp;lookup=splunk_rest_saved_searches_sh_kv_store&amp;type=kv">
                        View Reports/Alerts KV Store
                        <i class="icon-data icon-modal-medium icon-color-brandColorD40 m-left"/>
                     </a>
                  </div>
                  <div id="mod_att" class="hide">
                     <a class="btn full" href="javascript:();" data-toggle="modal" data-target="#info">
                        Attention
                        <i class="icon-alert icon-modal-medium icon-color-brandColorD40 m-left"/>
                     </a>
                  </div>
               </div>
               <li>
                  <a href="/app/insights_app_splunk/search?s=splunk_internal_scheduler_jobs_idx_summary_trackerr" target="_blank" rel="noopener">Track Reports/Alerts Executions (Summary Indexing)</a>
               </li>
            </ol>
         </html>
    </panel>
  </row>
  <row id="Auto1">
    <panel id="panel_accordion_togglepanel_false_16" depends="$gadget_lib_loaded$">
      <title>1. REST API URIs for Automation</title>
      <input type="dropdown" token="job_property" searchWhenChanged="true">
        <label>1. Job Property</label>
        <choice value="enable">Enable Jobs</choice>
        <choice value="disable">Disable Jobs</choice>
        <choice value="delete">Delete Jobs</choice>
        <choice value="allow_skew">Update Allow Skew</choice>
        <choice value="schedule_window">Update Schedule Window</choice>
        <choice value="schedule_priority">Update Schedule Priority</choice>
        <choice value="realtime_schedule">Update RealTime Schedule</choice>
        <choice value="cron_schedule">Update Cron Schedule</choice>
        <fieldForLabel>job_property</fieldForLabel>
        <fieldForValue>job_property</fieldForValue>
        <default>disable</default>
        <initialValue>disable</initialValue>
      </input>
      <input type="text" token="property_value" searchWhenChanged="true">
        <label>2. Job Property Value</label>
        <default>1</default>
        <initialValue>1</initialValue>
      </input>
      <input type="text" token="stack_name">
        <label>Stack Name</label>
        <default>.stack.splunkcloud.com</default>
      </input>
      <input type="text" token="custom_filter" searchWhenChanged="true">
        <label>Custom Filter (example: where author="user123"</label>
        <default>noop</default>
      </input>
      <table>
        <search base="reports_base">
          <query>| eval fudge_author = case (
    'sharing' == "user", 'author',
    'sharing' == "global", "nobody",
    'sharing' == "app", "nobody") 
| eval shcluster_label_rest=if(shcluster_label="$stack_name$-shc", "$stack_name$", shcluster_label . "$stack_name$") 
| eval job_url="https://" . shcluster_label_rest . "/app/" . app . "/search?s=" . savedsearch_name 
| eval encoded_title=savedsearch_name 
| eval job_property=case("$job_property$"="disable" OR "$job_property$"="enable", "/$job_property$", true(), "") 
| eval curl_options=case(!match("$job_property$", "delete|disable|enable"), "-d $job_property$=\"$property_value$\"", true(), "") 
| `encode_field(encoded_title)`
| eval rest_uri="https://" . shcluster_label_rest . ":8089/servicesNS/" . fudge_author . "/" . app . "/saved/searches/" . encoded_title . job_property 
| eval actions=if(match(author, "admin|system"), "no-email", "email") 
| eval Request=case("$job_property$"="delete", "DELETE", true(), "POST") 
| table savedsearch_name actions author emp_name emp_first emp_email rest_uri Request curl_options job_url</query>
        </search>
        <option name="count">10</option>
        <option name="drilldown">none</option>
        <option name="rowNumbers">true</option>
        <option name="wrap">false</option>
        <format type="color" field="rest_uri">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
      </table>
      <single>
        <search base="reports_base">
          <query>| stats count</query>
        </search>
        <option name="colorMode">block</option>
        <option name="drilldown">none</option>
        <option name="height">90</option>
        <option name="rangeColors">["006FBE","006FBE"]</option>
        <option name="rangeValues">[100]</option>
        <option name="unit">Reports/Alerts</option>
        <option name="useColors">1</option>
      </single>
      <single>
        <search base="reports_base">
          <query>| stats dc(author) As Num_Authors</query>
        </search>
        <option name="colorMode">block</option>
        <option name="drilldown">none</option>
        <option name="height">90</option>
        <option name="rangeColors">["006FBE","006FBE"]</option>
        <option name="rangeValues">[0]</option>
        <option name="refresh.display">progressbar</option>
        <option name="unit">Authors</option>
        <option name="useColors">1</option>
      </single>
    </panel>
  </row>
  <row id="Auto2">
    <panel id="panel_accordion_togglepanel_true_17" depends="$gadget_lib_loaded$">
      <title>2. REST API URIs for Automation / Ad-hoc Export</title>
      <table>
        <search base="reports_base">
          <query>| eval fudge_author = case (
    'sharing' == "user", 'author',
    'sharing' == "global", "nobody",
    'sharing' == "app", "nobody") 
| eval shcluster_label_rest=if(shcluster_label="$stack_name$-shc", "$stack_name$", shcluster_label . "$stack_name$") 
| eval job_url="https://" . shcluster_label_rest . "/app/" . app . "/search?s=" . savedsearch_name 
| eval encoded_title=savedsearch_name 
| eval job_property=case("$job_property$"="disable" OR "$job_property$"="enable", "/$job_property$", true(), "") 
| eval curl_options=case(!match("$job_property$", "delete|disable|enable"), "-d $job_property$=\"$property_value$\"", true(), "") 
| `encode_field(encoded_title)` 
| eval rest_uri="https://" . shcluster_label_rest . ":8089/servicesNS/" . fudge_author . "/" . app . "/saved/searches/" . encoded_title . job_property 
| eval actions=if(match(author, "admin|system"), "no-email", "email") 
| eval Request=case("$job_property$"="delete", "DELETE", true(), "POST") 
| table rest_uri</query>
        </search>
        <option name="count">10</option>
        <option name="drilldown">none</option>
        <option name="refresh.display">progressbar</option>
        <option name="rowNumbers">true</option>
        <option name="wrap">false</option>
      </table>
    </panel>
  </row>
  <row id="Auto3">
    <panel id="panel_accordion_togglepanel_true_18" depends="$gadget_lib_loaded$">
      <title>3. Validate Jobs got deleted</title>
      <table>
        <search base="reports_base">
          <query>| stats values(savedsearch_name) as savedsearches values(author) as authors 
| eval savedsearches=mvjoin(savedsearches,"\",\"") , authors=mvjoin(authors,"\",\"") 
| eval command="| rest /servicesNS/-/-/saved/searches splunk_server=local timeout=0 add_orphan_field=1 | fields title author 
eai:acl.app eai:acl.sharing is_scheduled disabled | search title IN (\"" . savedsearches . "\") AND author IN (\"" . authors . "\")" 
| fields command</query>
        </search>
        <option name="count">1</option>
        <option name="drilldown">none</option>
        <option name="refresh.display">progressbar</option>
        <option name="rowNumbers">false</option>
        <option name="wrap">true</option>
        <format type="color" field="command">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
      </table>
    </panel>
  </row>
  <row id="Auto4">
    <panel id="panel_accordion_togglepanel_true_19" depends="$gadget_lib_loaded$">
      <title>4. Duplicate Jobs</title>
      <table>
        <search base="reports_base">
          <query>| search disabled=0 is_scheduled=1 NOT app IN (splunk_instrumentation,splunk_instance_monitoring, *insights_app_splunk,Splunk_ML_Toolkit,Splunk_TA_aws,splunk_app_*) shcluster_label!=vxkip-hspapi01 
| fields shcluster_label app sharing savedsearch_name disabled is_scheduled author 
| stats values(*) as * count by savedsearch_name 
| where count &gt; 1 
| table savedsearch_name shcluster_label app sharing author disabled is_scheduled count</query>
        </search>
        <option name="count">10</option>
        <option name="drilldown">none</option>
        <option name="refresh.display">progressbar</option>
        <option name="rowNumbers">true</option>
        <option name="wrap">false</option>
        <format type="color" field="command">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="savedsearch_name">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
      </table>
    </panel>
  </row>
  <row id="Auto5">
    <panel id="panel_accordion_togglepanel_true_20" depends="$gadget_lib_loaded$">
      <title>5. Prepare automation activities using Curl Commands</title>
      <table>
        <title>export the list below, search/replace &lt;username&gt; and replace it with your username</title>
        <search base="reports_base">
          <query>| eval fudge_author = case (
    'sharing' == "user", 'author',
    'sharing' == "global", "nobody",
    'sharing' == "app", "nobody") 
| eval shcluster_label_rest=if(shcluster_label="$stack_name$-shc", "$stack_name$", shcluster_label . "$stack_name$") 
| eval job_url="https://" . shcluster_label_rest . "/app/" . app . "/search?s=" . savedsearch_name 
| eval encoded_title=savedsearch_name 
| eval job_property=case("$job_property$"="disable" OR "$job_property$"="enable", "/$job_property$", true(), "") 
| eval curl_options=case(!match("$job_property$", "delete|disable|enable"), "-d $job_property$=\"$property_value$\"", true(), "") 
| `encode_field(encoded_title)` 
| eval rest_uri="https://" . shcluster_label_rest . ":8089/servicesNS/" . fudge_author . "/" . app . "/saved/searches/" . encoded_title . job_property 
| eval actions=if(match(author, "admin|system"), "no-email", "email") 
| eval Request=case("$job_property$"="delete", "DELETE", true(), "POST") 
| eval curl="curl -k -u &lt;username&gt; --request " . Request . " " . rest_uri
| table curl</query>
        </search>
        <option name="count">10</option>
        <option name="drilldown">none</option>
        <option name="rowNumbers">false</option>
        <option name="wrap">false</option>
        <format type="color" field="rest_uri">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
      </table>
    </panel>
  </row>
  <row id="Auto6">
    <panel id="panel_accordion_togglepanel_true_21" depends="$gadget_lib_loaded$">
      <title>6. Prepare users for deletion / Ad-hoc Export</title>
      <table>
        <title></title>
        <search base="reports_base">
          <query>| stats count by shcluster_label author
| rename author as user
| table user shcluster_label</query>
        </search>
        <option name="count">10</option>
        <option name="drilldown">none</option>
        <option name="refresh.display">progressbar</option>
        <option name="rowNumbers">true</option>
        <option name="wrap">false</option>
        <format type="color" field="author">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
      </table>
    </panel>
  </row>
  <row id="Auto7">
    <panel id="panel_accordion_togglepanel_true_22" depends="$gadget_lib_loaded$">
      <title>7. Validate Users got deleted</title>
      <table>
        <title>Copy the command below and run it on the Search Head or Search Head Cluster you deleted users on</title>
        <search base="reports_base">
          <query>| stats values(author) as list
| eval list=mvjoin(list,",")
|  eval command="| rest /services/authentication/users splunk_server=local | fields title realname type email | search title IN (" . list . ")"
| fields command</query>
        </search>
        <option name="count">1</option>
        <option name="drilldown">none</option>
        <option name="refresh.display">progressbar</option>
        <option name="rowNumbers">false</option>
        <option name="wrap">true</option>
        <format type="color" field="author">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="command">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
      </table>
    </panel>
  </row>
  <row id="Auto8">
    <panel id="panel_accordion_togglepanel_true_23" depends="$gadget_lib_loaded$">
      <title>8. Storing all Knowledge Objects scheduled to be deleted in a Summary index</title>
      <input type="dropdown" token="test_mode" searchWhenChanged="true">
        <label>1. Summary Index Test Mode</label>
        <choice value="True">True Do not Summarize yet</choice>
        <choice value="False">False (Summarize!)</choice>
        <fieldForLabel>test_mode</fieldForLabel>
        <fieldForValue>test_mode</fieldForValue>
        <default>True</default>
        <initialValue>True</initialValue>
      </input>
      <table>
        <search base="reports_base">
          <query>| stats 
    Values(correlationsearch_related_searches) As correlationsearch_related_searches
    Values(actions) As actions 
    Values(email_to) As email_to
    Values(acl_perms_read) As acl_perms_read Values(acl_perms_write) As acl_perms_write
    Last(*) As *
    BY shcluster_label app sharing author savedsearch_name 
| rename savedsearch_name As ko_name , savedsearch_search As search 
| eval _time=now() , ko_type="saved_search" 
| table _time,ko_name,ko_type,acl_perms_read,acl_perms_write,actions,allow_skew,app,author,correlationsearch_enabled,correlationsearch_label,correlationsearch_related_searches,cron_schedule,data,description,dispatch_as,dispatch_earliest_time,dispatch_latest_time,dispatch_ttl,email_to,notable_drilldown_name,notable_drilldown_search,notable_next_steps,notable_rule_description,notable_rule_title,notable_security_domain,notable_severity,onprem_url,realtime_schedule,schedule_priority,schedule_window,search,sharing,shcluster_label,updated 
| foreach correlationsearch_related_searches acl_perms_* actions email_to 
    [ eval &lt;&lt;FIELD&gt;&gt;=mvjoin(mvsort(mvdedup('&lt;&lt;FIELD&gt;&gt;')), "#####") ] 
| eval source="splunk_rest_saved_searches_sh_archive_summary_data" 
| collect `setup_summary_index` source="splunk_rest_saved_searches_sh_archive_summary_data" testmode=$test_mode$</query>
        </search>
        <option name="count">10</option>
        <option name="drilldown">none</option>
        <option name="rowNumbers">true</option>
        <option name="wrap">false</option>
        <format type="color" field="ko_name">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
      </table>
      <single>
        <search base="reports_base">
          <query>| stats count</query>
        </search>
        <option name="colorMode">block</option>
        <option name="drilldown">none</option>
        <option name="height">90</option>
        <option name="rangeColors">["006FBE","006FBE"]</option>
        <option name="rangeValues">[0]</option>
        <option name="refresh.display">progressbar</option>
        <option name="unit">To Archive</option>
        <option name="useColors">1</option>
      </single>
    </panel>
  </row>
  <row id="Balance1">
    <panel>
      <input type="dropdown" token="shcluster_label">
        <label>1. Splunk SH (Cluster/Instance)</label>
        <fieldForLabel>shcluster_label</fieldForLabel>
        <fieldForValue>shcluster_label</fieldForValue>
        <search base="reports_balance_base">
          <query>| stats count by shcluster_label</query>
        </search>
        <choice value="*">All</choice>
        <default>*</default>
      </input>
      <input type="multiselect" token="tok_app" id="ra_app">
        <label>2. App</label>
        <choice value="*">ALL</choice>
        <fieldForLabel>app</fieldForLabel>
        <fieldForValue>app</fieldForValue>
        <search base="reports_balance_base">
          <query>| stats count by app</query>
        </search>
        <default>*</default>
        <delimiter> </delimiter>
      </input>
      <input type="dropdown" token="tok_cron_cat">
        <label>3. Cron Category</label>
        <choice value="*">ALL</choice>
        <default>*</default>
        <fieldForLabel>category</fieldForLabel>
        <fieldForValue>category</fieldForValue>
        <search id="balance_category">
          <query>| from lookup:cron_schedule_category_remapper_lookup
| fields category</query>
        </search>
      </input>
      <input type="text" token="tok_user">
        <label>4. User</label>
        <default>*</default>
        <initialValue>*</initialValue>
      </input>
      <input type="text" token="stack">
        <label>5. Stack Name</label>
        <default>&lt;STACK&gt;.stack.splunkcloud.com</default>
      </input>
      <input type="text" token="account">
        <label>6. Ephemeral Account ID</label>
        <default>tok_123</default>
      </input>
      <input type="text" token="auth_token">
        <label>7. Ephemeral Account auth_token</label>
        <default>auth_token</default>
        <initialValue>auth_token</initialValue>
      </input>
      <input type="dropdown" token="keeper">
        <label>8. Include Balanced</label>
        <choice value="noop">Yes</choice>
        <choice value="where keeper=1">No</choice>
        <default>where keeper=1</default>
        <initialValue>where keeper=1</initialValue>
      </input>
      <input type="dropdown" token="cron_schedule_described">
        <label>9.1 cron_schedule_described</label>
        <choice value="*">All</choice>
        <default>*</default>
        <initialValue>*</initialValue>
        <fieldForLabel>cron_schedule_described</fieldForLabel>
        <fieldForValue>cron_schedule_described</fieldForValue>
        <search base="reports_balance_base">
          <query>| `cron_descriptor(cron_schedule)` 
| stats count by cron_schedule_described</query>
        </search>
      </input>
      <input type="text" token="cron_schedule_described">
        <label>9.2 cron_schedule_described</label>
        <default>*</default>
        <initialValue>*</initialValue>
      </input>
      <html>
        <style>
          .dashboard-row .dashboard-panel,.panel-head h3{
            background-color:#000000 !important;
            color:#ffffff !important;
          }
        </style>
      </html>
    </panel>
  </row>
  <row id="Balance2">
    <panel>
      <title>schedule generator</title>
      <table>
        <search base="reports_balance_base">
          <query>| search is_scheduled=1 disabled=0 author IN ( $tok_user$ ) app IN ( $tok_app$ ) shcluster_label="$shcluster_label$" NOT (earliest_time=rt* OR latest_time=rt* OR summary_index=1 OR savedsearch_search=*timechart* OR savedsearch_search=*bin* OR savedsearch_search=*span* OR savedsearch_search=*bucket* ) 
| eval fudge_author = case (
    'sharing' == "user", 'author',
    'sharing' == "global", "nobody",
    'sharing' == "app", "nobody") 
| search `gmc_comment("MACRO TO BREAK DOWN THE CRON SCHEDULE INTO ATOMS, EMITS THOSE, nth_minute, AND THE CURRENTLY IDENTIFIED CATEGORY IF ANY")` 
| `gmc_categorize_cron_schedule(cron_schedule)` 
| search category="$tok_cron_cat$" 
| eval schedule_interval=case(
    category="every minute", 60,
    searchmatch("category=\"every * minutes\""), nth_minute*60,
    category="hourly", 3600,
    category="daily", 86400
    ) 
| search `gmc_comment("LOOKUP TO GET new_category FROM category, AND reset_count")` 
| lookup cron_schedule_category_remapper_lookup category 
| eval new_schedule_interval=case(
    new_category="every minute", 60,
    searchmatch("new_category=\"every * minutes\""), new_nth_minute*60,
    new_category="hourly", 3600,
    new_category="daily", 86400
    ) 
| eval keeper=if(searchmatch("new_category=daily minute=0") OR searchmatch("new_category=hourly minute=0") OR new_category="every 5 minutes" OR new_category="every 10 minutes" OR new_category="every 30 minutes" OR new_category="every 15 minutes", 1, 0) 
| $keeper$
| sort cron_schedule 
| eval min_slots="0 1 2 3 4 6 7 8 9 11 12 13 14 16 17 18 19 21 22 23 24 26 27 28 29" 
| makemv min_slots 
| streamstats count reset_after="count=reset_count" by new_category 
| eval upper_bound=59 
| eval output_count=mvindex(min_slots, count) 
| eval new_cron=case(
    searchmatch("new_category=daily minute=0"), output_count . " ". hour . " " . domonth . " " . month . " " . doweek,
    searchmatch("new_category=daily minute!=0"), cron_schedule,
    searchmatch("new_category=hourly minute=0"), output_count . " ". hour . " " . domonth . " " . month . " " . doweek,
    searchmatch("new_category=hourly minute!=0"), cron_schedule,
    new_category="every 5 minutes" OR new_category="every 10 minutes" OR new_category="every 30 minutes" OR new_category="every 15 minutes", output_count . "-59/" . new_nth_minute . " " . hour . " " . domonth . " " . month . " " . doweek
    ) 
| rex mode=sed field=new_cron "s/x/*/g" 
| eval encoded_title=savedsearch_name 
| eval base_hour=if(hour="x", "14", hour) 
| eval base_minute=if(searchmatch("category=\"every * minutes\""), nth_minute, minute) 
| eval basetime=strptime("2020-07-14 " . printf("%01d", base_hour) . " " . printf("%01d", base_minute), "%F %H %M") 
| eval seconds_searched=round(relative_time(basetime, dispatch_latest_time)-relative_time(basetime, dispatch_earliest_time)) 
| eval seconds_gap=if(schedule_interval&gt;seconds_searched, schedule_interval-seconds_searched, null() ) 
| rex field=encoded_title mode=sed
    "s:%:%25:g s:\+:%2B:g s:\":%22:g s:\(:%28:g s:\):%29:g s: :%20:g  s:&lt;:%3C:g  s:&gt;:%3E:g  s:#:%23:g  s:{:%7B:g  s:}:%7D:g  s:\|:%7C:g s:\\\:%5C:g  s:\^:%5E:g  s:~:%7E:g
     s:\[:%5B:g  s:\]:%5D:g  s:\`:%60:g  s:;:%3B:g  s:/:%2F:g  s:\?:%3F:g  s/:/%3A/g  s:@:%40:g  s:=:%3D:g  s:&amp;:%26:g  s:\$:%24:g  s:\!:%21:g  s:\*:%2A:g" 
| eval change_script="curl -k -u $account$:$auth_token$ -XPOST \"https://$stack$:8089/servicesNS/" + fudge_author + "/" + 'app' + "/saved/searches/" + encoded_title + "\"" + " -d " + "cron_schedule=\"" + new_cron + "\" || true" 
| eval rollback_script="curl -k -u $account$:$auth_token$ -XPOST \"https://$stack$:8089/servicesNS/" + fudge_author + "/" + 'app' + "/saved/searches/" + encoded_title + "\"" + " -d " + "cron_schedule=\"" + cron_schedule + "\" || true" 
| `cron_descriptor(cron_schedule)` 
| table shcluster_label app sharing author savedsearch_name cron_schedule cron_schedule_described category allow_skew schedule_window schedule_priority realtime_schedule dispatch_earliest_time dispatch_latest_time schedule_interval seconds_searched seconds_gap new_cron new_category new_schedule_interval change_script rollback_script reset_count output_count description 
| `rename_saved_searches_fields`</query>
        </search>
        <option name="count">10</option>
        <option name="dataOverlayMode">none</option>
        <option name="drilldown">none</option>
        <option name="percentagesRow">false</option>
        <option name="refresh.display">progressbar</option>
        <option name="rowNumbers">true</option>
        <option name="totalsRow">false</option>
        <option name="wrap">false</option>
        <format type="color" field="author">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="category">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="new_category">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="schedule_interval">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="new_schedule_interval">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="Job Name">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="author">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="category">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="new_category">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="schedule_interval">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="new_schedule_interval">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="Job Name">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="Job Schedule">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="Job App">
          <colorPalette type="list">[#9BCAEB,#7DBAE5,#5AA7DE,#2D8FD5,#006FBE,#004170]</colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="Job App Sharing">
          <colorPalette type="map">{"user":#DC4E41,"app":#53A051,"global":#F8BE34}</colorPalette>
        </format>
        <format type="color" field="Job Schedule Window">
          <colorPalette type="map">{"0":#DC4E41,"auto":#53A051}</colorPalette>
        </format>
        <format type="color" field="Job Allow Skew">
          <colorPalette type="map">{"0":#DC4E41}</colorPalette>
        </format>
        <format type="color" field="Job RT Schedule">
          <colorPalette type="map">{"0":#DC4E41,"1":#53A051}</colorPalette>
        </format>
        <format type="color" field="Job Schedule Priority">
          <colorPalette type="map">{"higher":#F8BE34,"highest":#DC4E41}</colorPalette>
        </format>
      </table>
      <single>
        <title>Total Number of Jobs</title>
        <search base="reports_balance_base">
          <query>| eval fudge_author = case (
    'sharing' == "user", 'author',
    'sharing' == "global", "nobody",
    'sharing' == "app", "nobody") 
| search `gmc_comment("MACRO TO BREAK DOWN THE CRON SCHEDULE INTO ATOMS, EMITS THOSE, nth_minute, AND THE CURRENTLY IDENTIFIED CATEGORY IF ANY")` 
| `gmc_categorize_cron_schedule(cron_schedule)` 
| search category="$tok_cron_cat$" 
| eval schedule_interval=case(
    category="every minute", 60,
    searchmatch("category=\"every * minutes\""), nth_minute*60,
    category="hourly", 3600,
    category="daily", 86400
    ) 
| search `gmc_comment("LOOKUP TO GET new_category FROM category, AND reset_count")` 
| lookup cron_schedule_category_remapper_lookup category 
| eval new_schedule_interval=case(
    new_category="every minute", 60,
    searchmatch("new_category=\"every * minutes\""), new_nth_minute*60,
    new_category="hourly", 3600,
    new_category="daily", 86400
    ) 
| eval keeper=if(searchmatch("new_category=daily minute=0") OR searchmatch("new_category=hourly minute=0") OR new_category="every 5 minutes" OR new_category="every 10 minutes" OR new_category="every 30 minutes" OR new_category="every 15 minutes", 1, 0) 
| $keeper$ 
| sort cron_schedule 
| eval min_slots="0 1 2 3 4 6 7 8 9 11 12 13 14 16 17 18 19 21 22 23 24 26 27 28 29" 
| makemv min_slots 
| streamstats count reset_after="count=reset_count" by new_category 
| eval upper_bound=59 
| eval output_count=mvindex(min_slots, count) 
| eval new_cron=case(
    searchmatch("new_category=daily minute=0"), output_count . " ". hour . " " . domonth . " " . month . " " . doweek,
    searchmatch("new_category=daily minute!=0"), cron_schedule,
    searchmatch("new_category=hourly minute=0"), output_count . " ". hour . " " . domonth . " " . month . " " . doweek,
    searchmatch("new_category=hourly minute!=0"), cron_schedule,
    new_category="every 5 minutes" OR new_category="every 10 minutes" OR new_category="every 30 minutes" OR new_category="every 15 minutes", output_count . "-59/" . new_nth_minute . " " . hour . " " . domonth . " " . month . " " . doweek
    ) 
| rex mode=sed field=new_cron "s/x/*/g" 
| eval encoded_title=savedsearch_name 
| eval base_hour=if(hour="x", "14", hour) 
| eval base_minute=if(searchmatch("category=\"every * minutes\""), nth_minute, minute) 
| eval basetime=strptime("2020-07-14 " . printf("%01d", base_hour) . " " . printf("%01d", base_minute), "%F %H %M") 
| eval seconds_searched=round(relative_time(basetime, dispatch_latest_time)-relative_time(basetime, dispatch_earliest_time)) 
| eval seconds_gap=if(schedule_interval&gt;seconds_searched, schedule_interval-seconds_searched, null() ) 
| rex field=encoded_title mode=sed
    "s:%:%25:g s:\+:%2B:g s:\":%22:g s:\(:%28:g s:\):%29:g s: :%20:g  s:&lt;:%3C:g  s:&gt;:%3E:g  s:#:%23:g  s:{:%7B:g  s:}:%7D:g  s:\|:%7C:g s:\\\:%5C:g  s:\^:%5E:g  s:~:%7E:g
     s:\[:%5B:g  s:\]:%5D:g  s:\`:%60:g  s:;:%3B:g  s:/:%2F:g  s:\?:%3F:g  s/:/%3A/g  s:@:%40:g  s:=:%3D:g  s:&amp;:%26:g  s:\$:%24:g  s:\!:%21:g  s:\*:%2A:g" 
| eval change_script="curl -k -u $account$:$auth_token$ -XPOST https://$stack$:8089/servicesNS/" + fudge_author + "/" + 'app' + "/saved/searches/" + encoded_title + " -d " + "cron_schedule=\"" + new_cron + "\" || true" 
| eval rollback_script="curl -k -u $account$:$auth_token$ -XPOST https://$stack$:8089/servicesNS/" + fudge_author + "/" + 'app' + "/saved/searches/" + encoded_title + " -d " + "cron_schedule=\"" + cron_schedule + "\" || true" 
| table shcluster_label app sharing author savedsearch_name cron_schedule category allow_skew schedule_window schedule_priority realtime_schedule dispatch_earliest_time dispatch_latest_time schedule_interval seconds_searched seconds_gap new_cron new_category new_schedule_interval change_script rollback_script reset_count output_count description 
| stats count</query>
        </search>
        <option name="colorMode">block</option>
        <option name="drilldown">none</option>
        <option name="height">90</option>
        <option name="rangeColors">["006FBE","006FBE"]</option>
        <option name="rangeValues">[0]</option>
        <option name="refresh.display">progressbar</option>
        <option name="useColors">1</option>
      </single>
    </panel>
  </row>
  <row id="Balance3">
    <panel>
      <title>Current cron schedule categories</title>
      <chart>
        <search base="reports_balance_base">
          <query>| `gmc_categorize_cron_schedule(cron_schedule)` 
| stats count BY category 
| sort count desc</query>
        </search>
        <option name="charting.backgroundColor">FFFF31</option>
        <option name="charting.seriesColors">[0x1e93c6, 0xf2b827, 0xd6563c, 0x6a5c9e, 0x31a35f, 0xed8440, 0x3863a0, 0xa2cc3e, 0xcc5068, 0x73427f, 0x11a88b, 0xea9600, 0x0e776d, 0xffb380, 0xaa3977, 0x91af27, 0x4453aa, 0x99712b, 0x553577, 0x97bc71, 0xd35c2d, 0x314d5b, 0x99962b, 0x844539, 0x00b290, 0xe2c188, 0xa34a41, 0x44416d, 0xe29847, 0x8c8910, 0x0b416d, 0x774772, 0x3d9988, 0xbdbd5e, 0x5f7396, 0x844539]</option>
        <option name="charting.chart">pie</option>
        <option name="charting.chart.showPercent">1</option>
        <option name="charting.chart.sliceCollapsingThreshold">0</option>
        <option name="height">500</option>
        <option name="refresh.display">progressbar</option>
      </chart>
    </panel>
    <panel>
      <title>Proposed new categories</title>
      <chart>
        <search base="reports_balance_base">
          <query>| `gmc_categorize_cron_schedule(cron_schedule)` 
| lookup cron_schedule_category_remapper_lookup category 
| fillnull value="uncategorized" new_category 
| chart count BY new_category 
| sort count desc</query>
        </search>
        <option name="charting.backgroundColor">FFFF31</option>
        <option name="charting.chart">pie</option>
        <option name="charting.chart.showPercent">1</option>
        <option name="charting.chart.sliceCollapsingThreshold">0</option>
        <option name="charting.seriesColors">[0x1e93c6, 0xf2b827, 0xd6563c, 0x6a5c9e, 0x31a35f, 0xed8440, 0x3863a0, 0xa2cc3e, 0xcc5068, 0x73427f, 0x11a88b, 0xea9600, 0x0e776d, 0xffb380, 0xaa3977, 0x91af27, 0x4453aa, 0x99712b, 0x553577, 0x97bc71, 0xd35c2d, 0x314d5b, 0x99962b, 0x844539, 0x00b290, 0xe2c188, 0xa34a41, 0x44416d, 0xe29847, 0x8c8910, 0x0b416d, 0x774772, 0x3d9988, 0xbdbd5e, 0x5f7396, 0x844539]</option>
        <option name="height">500</option>
        <option name="refresh.display">progressbar</option>
      </chart>
    </panel>
  </row>
  <row id="Balance4">
    <panel>
      <title>Current cron Schedule 5 minute schedules hard coded for now</title>
      <chart>
        <search base="reports_balance_base">
          <query>| eval fudge_author = case (
    'sharing' == "user", 'author',
    'sharing' == "global", "nobody",
    'sharing' == "app", "nobody") 
| search `gmc_comment("MACRO TO BREAK DOWN THE CRON SCHEDULE INTO ATOMS, EMITS THOSE, nth_minute, AND THE CURRENTLY IDENTIFIED CATEGORY IF ANY")` 
| `gmc_categorize_cron_schedule(cron_schedule)` 
| search category="$tok_cron_cat$" 
| eval schedule_interval=case(
    category="every minute", 60,
    searchmatch("category=\"every * minutes\""), nth_minute*60,
    category="hourly", 3600,
    category="daily", 86400
    ) 
| search `gmc_comment("LOOKUP TO GET new_category FROM category, AND reset_count")` 
| lookup cron_schedule_category_remapper_lookup category 
| eval new_schedule_interval=case(
    new_category="every minute", 60,
    searchmatch("new_category=\"every * minutes\""), new_nth_minute*60,
    new_category="hourly", 3600,
    new_category="daily", 86400
    ) 
| eval keeper=if(searchmatch("new_category=daily minute=0") OR searchmatch("new_category=hourly minute=0") OR new_category="every 5 minutes" OR new_category="every 10 minutes" OR new_category="every 30 minutes" OR new_category="every 15 minutes", 1, 0) 
| $keeper$ 
| sort cron_schedule 
| eval min_slots="0 1 2 3 4 6 7 8 9 11 12 13 14 16 17 18 19 21 22 23 24 26 27 28 29" 
| makemv min_slots 
| streamstats count reset_after="count=reset_count" by new_category 
| eval upper_bound=59 
| eval output_count=mvindex(min_slots, count) 
| eval new_cron=case(
    searchmatch("new_category=daily minute=0"), output_count . " ". hour . " " . domonth . " " . month . " " . doweek,
    searchmatch("new_category=daily minute!=0"), cron_schedule,
    searchmatch("new_category=hourly minute=0"), output_count . " ". hour . " " . domonth . " " . month . " " . doweek,
    searchmatch("new_category=hourly minute!=0"), cron_schedule,
    new_category="every 5 minutes" OR new_category="every 10 minutes" OR new_category="every 30 minutes" OR new_category="every 15 minutes", output_count . "-59/" . new_nth_minute . " " . hour . " " . domonth . " " . month . " " . doweek
    ) 
| rex mode=sed field=new_cron "s/x/*/g" 
| eval encoded_title=savedsearch_name 
| eval base_hour=if(hour="x", "14", hour) 
| eval base_minute=if(searchmatch("category=\"every * minutes\""), nth_minute, minute) 
| eval basetime=strptime("2020-07-14 " . printf("%01d", base_hour) . " " . printf("%01d", base_minute), "%F %H %M") 
| eval seconds_searched=round(relative_time(basetime, dispatch_latest_time)-relative_time(basetime, dispatch_earliest_time)) 
| eval seconds_gap=if(schedule_interval&gt;seconds_searched, schedule_interval-seconds_searched, null() ) 
| rex field=encoded_title mode=sed
    "s:%:%25:g s:\+:%2B:g s:\":%22:g s:\(:%28:g s:\):%29:g s: :%20:g  s:&lt;:%3C:g  s:&gt;:%3E:g  s:#:%23:g  s:{:%7B:g  s:}:%7D:g  s:\|:%7C:g s:\\\:%5C:g  s:\^:%5E:g  s:~:%7E:g
     s:\[:%5B:g  s:\]:%5D:g  s:\`:%60:g  s:;:%3B:g  s:/:%2F:g  s:\?:%3F:g  s/:/%3A/g  s:@:%40:g  s:=:%3D:g  s:&amp;:%26:g  s:\$:%24:g  s:\!:%21:g  s:\*:%2A:g" 
| eval change_script="curl -k -u $account$:$auth_token$ -XPOST \"https://$stack$:8089/servicesNS/" + fudge_author + "/" + 'app' + "/saved/searches/" + encoded_title + "\"" + " -d " + "cron_schedule=\"" + new_cron + "\" || true" 
| eval rollback_script="curl -k -u $account$:$auth_token$ -XPOST \"https://$stack$:8089/servicesNS/" + fudge_author + "/" + 'app' + "/saved/searches/" + encoded_title + "\"" + " -d " + "cron_schedule=\"" + cron_schedule + "\" || true" 
| `cron_descriptor(cron_schedule)` 
| stats count by cron_schedule_described</query>
        </search>
        <option name="charting.backgroundColor">FFFF31</option>
        <option name="charting.seriesColors">[0x1e93c6, 0xf2b827, 0xd6563c, 0x6a5c9e, 0x31a35f, 0xed8440, 0x3863a0, 0xa2cc3e, 0xcc5068, 0x73427f, 0x11a88b, 0xea9600, 0x0e776d, 0xffb380, 0xaa3977, 0x91af27, 0x4453aa, 0x99712b, 0x553577, 0x97bc71, 0xd35c2d, 0x314d5b, 0x99962b, 0x844539, 0x00b290, 0xe2c188, 0xa34a41, 0x44416d, 0xe29847, 0x8c8910, 0x0b416d, 0x774772, 0x3d9988, 0xbdbd5e, 0x5f7396, 0x844539]</option>
        <option name="charting.chart">pie</option>
        <option name="charting.chart.showPercent">1</option>
        <option name="charting.chart.sliceCollapsingThreshold">0</option>
        <option name="height">500</option>
        <option name="refresh.display">progressbar</option>
      </chart>
    </panel>
  </row>
  <row id="Balance5">
    <panel>
      <single>
        <title>Dashboard Latest Refresh</title>
        <search base="reports_base">
          <query>| stats latest(_time) As _time
| `strftime_format(_time)`
| rename _time As "Dashboard Latest Refresh"</query>
        </search>
        <option name="colorMode">none</option>
        <option name="drilldown">none</option>
        <option name="height">103</option>
        <option name="rangeColors">["006FBE","006FBE"]</option>
        <option name="rangeValues">[0]</option>
        <option name="refresh.display">none</option>
        <option name="useColors">0</option>
      </single>
    </panel>
  </row>
  <row>
    <panel>
      <html>
        <h1 style="color:#004170;font-size:30px;text-align:center">SH - 02 - Reports/Alerts Deep Analysis (Updated: December 5, 2022)</h1>
      </html>
    </panel>
  </row>
</form>
}
